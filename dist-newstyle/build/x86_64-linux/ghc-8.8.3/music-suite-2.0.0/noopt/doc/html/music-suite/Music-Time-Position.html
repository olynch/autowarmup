<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Music.Time.Position</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">music-suite-2.0.0: A set of libraries for composition, analysis and manipulation of music.</span><ul class="links" id="page-menu"><li><a href="src/Music.Time.Position.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Music.Time.Position</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The HasPosition class</a></li><li><a href="#g:2">Position and Era</a><ul><li><a href="#g:3">Specific positions</a></li></ul></li><li><a href="#g:4">Moving</a></li><li><a href="#g:5">Transforming</a></li><li><a href="#g:6">Transforming relative a position</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short">module <a href="Music-Time-Duration.html">Music.Time.Duration</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasPosition">HasPosition</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:_era">_era</a> :: a -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a =&gt; <a href="#t:HasPosition1">HasPosition1</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:_era1">_era1</a> :: a -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a></li></ul></li><li class="src short"><a href="#v:_position">_position</a> :: <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:_position1">_position1</a> :: <a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:position">position</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:era">era</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a></li><li class="src short"><a href="#v:setEra">setEra</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:onset">onset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:midpoint">midpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:offset">offset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:preOnset">preOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:postOffset">postOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a></li><li class="src short"><a href="#v:startAt">startAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stopAt">stopAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:placeAt">placeAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stretchTo">stretchTo</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stretchRelative">stretchRelative</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stretchRelativeOnset">stretchRelativeOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stretchRelativeMidpoint">stretchRelativeMidpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:stretchRelativeOffset">stretchRelativeOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:transformRelative">transformRelative</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:transformRelativeOnset">transformRelativeOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:transformRelativeMidpoint">transformRelativeMidpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:transformRelativeOffset">transformRelativeOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="Music-Time-Duration.html">Music.Time.Duration</a></p></div><a href="#g:1" id="g:1"><h1>The HasPosition class</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasPosition" class="def">HasPosition</a> a <span class="keyword">where</span> <a href="src/Music.Time.Position.html#HasPosition" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></p><div class="doc"><p>Class of values that have a position in time.</p><h4>Laws</h4><dl><dt><em>duration-position</em></dt><dd></dd></dl><p>For <code><a href="Music-Time-Duration.html#t:HasDuration" title="Music.Time.Duration">HasDuration</a></code> instances:</p><pre>fmap <code><a href="Music-Time-Duration.html#v:_duration" title="Music.Time.Duration">_duration</a></code> . <code><a href="Music-Time-Position.html#v:_era" title="Music.Time.Position">_era</a></code> = Just . <code><a href="Music-Time-Duration.html#v:_duration" title="Music.Time.Duration">_duration</a></code></pre><dl><dt><em>transform-position</em></dt><dd></dd></dl><p>For <code><a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a></code> instances:</p><pre><code><a href="Music-Time-Position.html#v:_era" title="Music.Time.Position">_era</a></code> (<code><a href="Music-Time-Transform.html#v:transform" title="Music.Time.Transform">transform</a></code> s x) = fmap (<code><a href="Music-Time-Transform.html#v:transform" title="Music.Time.Transform">transform</a></code> s) (<code><a href="Music-Time-Position.html#v:_era" title="Music.Time.Position">_era</a></code> x)</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:_era" class="def">_era</a> :: a -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p><div class="doc"><p>Return the conventional bounds of a value (local time zero and one).</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasPosition">Instances</h4><details id="i:HasPosition" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition:HasPosition:1"></span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a></span> <a href="src/Music.Time.Position.html#line-104" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition:HasPosition:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Position.html">Music.Time.Position</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era">_era</a> :: <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition:HasPosition:2"></span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a =&gt; <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> (<a href="Music-Time-Meta.html#t:AddMeta" title="Music.Time.Meta">AddMeta</a> a)</span> <a href="src/Music.Time.Meta.html#line-284" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition:HasPosition:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Meta.html">Music.Time.Meta</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era">_era</a> :: <a href="Music-Time-Meta.html#t:AddMeta" title="Music.Time.Meta">AddMeta</a> a -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition:HasPosition:3"></span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> (<a href="Music-Time-Event.html#t:Event" title="Music.Time.Event">Event</a> a)</span> <a href="src/Music.Time.Event.html#line-69" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition:HasPosition:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Event.html">Music.Time.Event</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era">_era</a> :: <a href="Music-Time-Event.html#t:Event" title="Music.Time.Event">Event</a> a -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition:HasPosition:4"></span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> (<a href="Music-Time-Score.html#t:Score" title="Music.Time.Score">Score</a> a)</span> <a href="src/Music.Time.Score.html#line-205" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition:HasPosition:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Score.html">Music.Time.Score</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era">_era</a> :: <a href="Music-Time-Score.html#t:Score" title="Music.Time.Score">Score</a> a -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition:HasPosition:5"></span> (<a href="Music-Time-Duration.html#t:HasDuration" title="Music.Time.Duration">HasDuration</a> v, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> v) =&gt; <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> (<a href="Music-Time-Aligned.html#t:Aligned" title="Music.Time.Aligned">Aligned</a> v)</span> <a href="src/Music.Time.Aligned.html#line-116" class="link">Source</a> <a href="#t:HasPosition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition:HasPosition:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Aligned.html">Music.Time.Aligned</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era">_era</a> :: <a href="Music-Time-Aligned.html#t:Aligned" title="Music.Time.Aligned">Aligned</a> v -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era" class="link">Source</a> <a href="#v:_era" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a =&gt; <a id="t:HasPosition1" class="def">HasPosition1</a> a <span class="keyword">where</span> <a href="src/Music.Time.Position.html#HasPosition1" class="link">Source</a> <a href="#t:HasPosition1" class="selflink">#</a></p><div class="doc"><p>Class of values that have a position in time.</p><h4>Laws</h4><dl><dt><em>duration-position</em></dt><dd></dd></dl><p>For <code><a href="Music-Time-Duration.html#t:HasDuration" title="Music.Time.Duration">HasDuration</a></code> instances:</p><pre><code><a href="Music-Time-Duration.html#v:_duration" title="Music.Time.Duration">_duration</a></code> . <code><a href="Music-Time-Position.html#v:_era1" title="Music.Time.Position">_era1</a></code> = <code><a href="Music-Time-Duration.html#v:_duration" title="Music.Time.Duration">_duration</a></code></pre><dl><dt><em>transform-position</em></dt><dd></dd></dl><p>For <code><a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a></code> instances:</p><pre><code><a href="Music-Time-Position.html#v:_era1" title="Music.Time.Position">_era1</a></code> (<code><a href="Music-Time-Transform.html#v:transform" title="Music.Time.Transform">transform</a></code> s x) = <code><a href="Music-Time-Transform.html#v:transform" title="Music.Time.Transform">transform</a></code> s (<code><a href="Music-Time-Position.html#v:_era1" title="Music.Time.Position">_era1</a></code> x)</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:_era1" class="def">_era1</a> :: a -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era1" class="link">Source</a> <a href="#v:_era1" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HasPosition1">Instances</h4><details id="i:HasPosition1" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition1:HasPosition1:1"></span> <a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a></span> <a href="src/Music.Time.Position.html#line-126" class="link">Source</a> <a href="#t:HasPosition1" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition1:HasPosition1:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Position.html">Music.Time.Position</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era1">_era1</a> :: <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era1" class="link">Source</a> <a href="#v:_era1" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition1:HasPosition1:2"></span> <a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> (<a href="Music-Time-Event.html#t:Event" title="Music.Time.Event">Event</a> a)</span> <a href="src/Music.Time.Event.html#line-72" class="link">Source</a> <a href="#t:HasPosition1" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition1:HasPosition1:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Event.html">Music.Time.Event</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era1">_era1</a> :: <a href="Music-Time-Event.html#t:Event" title="Music.Time.Event">Event</a> a -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era1" class="link">Source</a> <a href="#v:_era1" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:HasPosition1:HasPosition1:3"></span> (<a href="Music-Time-Duration.html#t:HasDuration" title="Music.Time.Duration">HasDuration</a> v, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> v) =&gt; <a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> (<a href="Music-Time-Aligned.html#t:Aligned" title="Music.Time.Aligned">Aligned</a> v)</span> <a href="src/Music.Time.Aligned.html#line-109" class="link">Source</a> <a href="#t:HasPosition1" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:HasPosition1:HasPosition1:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Music-Time-Aligned.html">Music.Time.Aligned</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_era1">_era1</a> :: <a href="Music-Time-Aligned.html#t:Aligned" title="Music.Time.Aligned">Aligned</a> v -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#_era1" class="link">Source</a> <a href="#v:_era1" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:_position" class="def">_position</a> :: <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; <a href="file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#_position" class="link">Source</a> <a href="#v:_position" class="selflink">#</a></p><div class="doc"><p>Map a local time in value to global time.</p></div></div><div class="top"><p class="src"><a id="v:_position1" class="def">_position1</a> :: <a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a =&gt; a -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#_position1" class="link">Source</a> <a href="#v:_position1" class="selflink">#</a></p><div class="doc"><p>Map a local time in value to global time.</p></div></div><a href="#g:2" id="g:2"><h1>Position and Era</h1></a><div class="top"><p class="src"><a id="v:position" class="def">position</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#position" class="link">Source</a> <a href="#v:position" class="selflink">#</a></p><div class="doc"><p>Position of the given value.</p></div></div><div class="top"><p class="src"><a id="v:era" class="def">era</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> <a href="src/Music.Time.Position.html#era" class="link">Source</a> <a href="#v:era" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setEra" class="def">setEra</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#setEra" class="link">Source</a> <a href="#v:setEra" class="selflink">#</a></p><div class="doc"><p>Place a value over the given span.</p><p><code>placeAt s t</code> places the given thing so that <code>x^.place = s</code></p></div></div><a href="#g:3" id="g:3"><h2>Specific positions</h2></a><div class="top"><p class="src"><a id="v:onset" class="def">onset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#onset" class="link">Source</a> <a href="#v:onset" class="selflink">#</a></p><div class="doc"><p>Onset of the given value, corresponding to alignment <code>0</code>.</p></div></div><div class="top"><p class="src"><a id="v:midpoint" class="def">midpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#midpoint" class="link">Source</a> <a href="#v:midpoint" class="selflink">#</a></p><div class="doc"><p>Midpoint of the given value, or the value between the decay and sustain phases.</p></div></div><div class="top"><p class="src"><a id="v:offset" class="def">offset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#offset" class="link">Source</a> <a href="#v:offset" class="selflink">#</a></p><div class="doc"><p>Offset of the given value, corresponding to alignment <code>1</code>.</p></div></div><div class="top"><p class="src"><a id="v:preOnset" class="def">preOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#preOnset" class="link">Source</a> <a href="#v:preOnset" class="selflink">#</a></p><div class="doc"><p>Pre-onset of the given value, or the value right before the attack phase.</p></div></div><div class="top"><p class="src"><a id="v:postOffset" class="def">postOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition1" title="Music.Time.Position">HasPosition1</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; Lens' a <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> <a href="src/Music.Time.Position.html#postOffset" class="link">Source</a> <a href="#v:postOffset" class="selflink">#</a></p><div class="doc"><p>Post-offset of the given value, or the value right after the release phase.</p></div></div><a href="#g:4" id="g:4"><h1>Moving</h1></a><div class="top"><p class="src"><a id="v:startAt" class="def">startAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#startAt" class="link">Source</a> <a href="#v:startAt" class="selflink">#</a></p><div class="doc"><p>Move a value forward in time.</p></div></div><div class="top"><p class="src"><a id="v:stopAt" class="def">stopAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stopAt" class="link">Source</a> <a href="#v:stopAt" class="selflink">#</a></p><div class="doc"><p>Move a value forward in time.</p></div></div><div class="top"><p class="src"><a id="v:placeAt" class="def">placeAt</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Time" title="Music.Time.Types">Time</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#placeAt" class="link">Source</a> <a href="#v:placeAt" class="selflink">#</a></p><div class="doc"><p>Align a value to a given position.</p><p><code>placeAt p t</code> places the given thing so that its position p is at time t</p><pre><code><a href="Music-Time-Position.html#v:placeAt" title="Music.Time.Position">placeAt</a></code> 0 = <code><a href="Music-Time-Position.html#v:startAt" title="Music.Time.Position">startAt</a></code>
<code><a href="Music-Time-Position.html#v:placeAt" title="Music.Time.Position">placeAt</a></code> 1 = <code><a href="Music-Time-Position.html#v:stopAt" title="Music.Time.Position">stopAt</a></code>
</pre></div></div><a href="#g:5" id="g:5"><h1>Transforming</h1></a><div class="top"><p class="src"><a id="v:stretchTo" class="def">stretchTo</a> :: (<a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a, <a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stretchTo" class="link">Source</a> <a href="#v:stretchTo" class="selflink">#</a></p><div class="doc"><p>Stretch a value to have the given duration.</p></div></div><a href="#g:6" id="g:6"><h1>Transforming relative a position</h1></a><div class="top"><p class="src"><a id="v:stretchRelative" class="def">stretchRelative</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stretchRelative" class="link">Source</a> <a href="#v:stretchRelative" class="selflink">#</a></p><div class="doc"><p>Stretch a value relative to its local origin.</p><pre>stretchRelativeOnset    = stretchRelative 0
stretchRelativeMidpoint = stretchRelative 0.5
stretchRelativeOffset   = stretchRelative 1
</pre></div></div><div class="top"><p class="src"><a id="v:stretchRelativeOnset" class="def">stretchRelativeOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stretchRelativeOnset" class="link">Source</a> <a href="#v:stretchRelativeOnset" class="selflink">#</a></p><div class="doc"><p>Stretch a value relative to its onset.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stretchRelativeOnset 2 (0 &lt;-&gt; 1)
</code></strong>0 &lt;-&gt; 2
</pre></div></div><div class="top"><p class="src"><a id="v:stretchRelativeMidpoint" class="def">stretchRelativeMidpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stretchRelativeMidpoint" class="link">Source</a> <a href="#v:stretchRelativeMidpoint" class="selflink">#</a></p><div class="doc"><p>Stretch a value relative to its midpoint.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stretchRelativeMidpoint 2 (1 &lt;-&gt; 3)
</code></strong>0 &lt;-&gt; 4
</pre></div></div><div class="top"><p class="src"><a id="v:stretchRelativeOffset" class="def">stretchRelativeOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Duration" title="Music.Time.Types">Duration</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#stretchRelativeOffset" class="link">Source</a> <a href="#v:stretchRelativeOffset" class="selflink">#</a></p><div class="doc"><p>Stretch a value relative to its offset.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stretchRelativeOffset 2 (1 &lt;-&gt; 2)
</code></strong>0 &lt;-&gt; 2
</pre></div></div><div class="top"><p class="src"><a id="v:transformRelative" class="def">transformRelative</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Alignment" title="Music.Time.Types">Alignment</a> -&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#transformRelative" class="link">Source</a> <a href="#v:transformRelative" class="selflink">#</a></p><div class="doc"><p>Transform a value relative to its local origin.</p><pre>stretchRelativeOnset    = stretchRelative 0
stretchRelativeMidpoint = stretchRelative 0.5
stretchRelativeOffset   = stretchRelative 1
</pre></div></div><div class="top"><p class="src"><a id="v:transformRelativeOnset" class="def">transformRelativeOnset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#transformRelativeOnset" class="link">Source</a> <a href="#v:transformRelativeOnset" class="selflink">#</a></p><div class="doc"><p>Transform a value relative to its onset.</p></div></div><div class="top"><p class="src"><a id="v:transformRelativeMidpoint" class="def">transformRelativeMidpoint</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#transformRelativeMidpoint" class="link">Source</a> <a href="#v:transformRelativeMidpoint" class="selflink">#</a></p><div class="doc"><p>Transform a value relative to its midpoint.</p></div></div><div class="top"><p class="src"><a id="v:transformRelativeOffset" class="def">transformRelativeOffset</a> :: (<a href="Music-Time-Position.html#t:HasPosition" title="Music.Time.Position">HasPosition</a> a, <a href="Music-Time-Transform.html#t:Transformable" title="Music.Time.Transform">Transformable</a> a) =&gt; <a href="Music-Time-Types.html#t:Span" title="Music.Time.Types">Span</a> -&gt; a -&gt; a <a href="src/Music.Time.Position.html#transformRelativeOffset" class="link">Source</a> <a href="#v:transformRelativeOffset" class="selflink">#</a></p><div class="doc"><p>Transform a value relative to its offset.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>