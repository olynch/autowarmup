<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds,
                        DeriveDataTypeable,
                        DeriveFoldable,
                        DeriveFunctor,
                        DeriveTraversable,
                        GeneralizedNewtypeDeriving,
                        MultiParamTypeClasses,
                        NoMonomorphismRestriction,
                        RankNTypes,
                        StandaloneDeriving,
                        TupleSections,
                        TypeFamilies,
                        TypeOperators,
                        TypeApplications,
                        ViewPatterns,
                        OverloadedStrings #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE ApplicativeDo #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-21"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-22"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs #-}</span><span>
</span><span id="line-23"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-24"></span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-25"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-26"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-27"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-28"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-29"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-30"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall
  -Wcompat
  -Wincomplete-record-updates
  -Wincomplete-uni-patterns
  -Werror
  -fno-warn-name-shadowing
  -fno-warn-deprecations
  -fno-warn-unused-imports
  -fno-warn-unused-matches #-}</span><span>
</span><span id="line-39"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-top-binds #-}</span><span> </span><span class="hs-comment">-- TODO FIXME</span><span>
</span><span id="line-40"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Music.Time.Pattern</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier">Pattern</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Music.Time.Pattern.html#newPattern"><span class="hs-identifier">newPattern</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Music.Time.Pattern.html#rhythmPattern"><span class="hs-identifier">rhythmPattern</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Music.Time.Pattern.html#renderPattern"><span class="hs-identifier">renderPattern</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Music.Time.Pattern.html#renderPatternsRel"><span class="hs-identifier">renderPatternsRel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Music.Time.Pattern.html#renderPatternsAbs"><span class="hs-identifier">renderPatternsAbs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">splitAt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Rewrapped</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Wrapped</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_Wrapped</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">from</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">iso</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">over</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">view</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">join</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.AffineSpace</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.VectorSpace</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">for</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier">first</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Pitch.html"><span class="hs-identifier">Music.Pitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Pitch.Common.Internal.html#IsPitch"><span class="hs-identifier">IsPitch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Pitch.Literal.html"><span class="hs-identifier">Music.Pitch.Literal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Pitch.Common.Internal.html#c"><span class="hs-identifier">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Score.Part.html"><span class="hs-identifier">Music.Score.Part</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Score.Pitch.html"><span class="hs-identifier">Music.Score.Pitch</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Score.Dynamics.html"><span class="hs-identifier">Music.Score.Dynamics</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Score.Articulation.html"><span class="hs-identifier">Music.Score.Articulation</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html"><span class="hs-identifier">Music.Time.Aligned</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Event.html"><span class="hs-identifier">Music.Time.Event</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Juxtapose.html"><span class="hs-identifier">Music.Time.Juxtapose</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Note.html"><span class="hs-identifier">Music.Time.Note</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Placed.html"><span class="hs-identifier">Music.Time.Placed</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Score.html"><span class="hs-identifier">Music.Time.Score</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Transform.html"><span class="hs-identifier">Music.Time.Transform</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Music.Time.Voice.html"><span class="hs-identifier">Music.Time.Voice</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.State.Strict</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Except</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Iso.Deriving</span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- TODO move divModDur</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- TODO generalize to any vector</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- &gt; v*^n ^+^ r = x where (n,r) = divModDur x v</span><span>
</span><span id="line-80"></span><span class="annot"><a href="Music.Time.Pattern.html#divModDur"><span class="hs-identifier hs-type">divModDur</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.2.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span id="divModDur"><span class="annot"><span class="annottext">divModDur :: Duration -&gt; Duration -&gt; (Integer, Duration)
</span><a href="Music.Time.Pattern.html#divModDur"><span class="hs-identifier hs-var hs-var">divModDur</span></a></span></span><span> </span><span id="local-6989586621680593663"><span class="annot"><span class="annottext">x :: Duration
</span><a href="#local-6989586621680593663"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680593662"><span class="annot"><span class="annottext">v :: Duration
</span><a href="#local-6989586621680593662"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593661"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593660"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621680593661"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621680593661"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">floor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593663"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593662"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-comment">-- r follows from (v*^n ^+^ r = x)</span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621680593660"><span class="annot"><span class="annottext">r :: Duration
</span><a href="#local-6989586621680593660"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593663"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall v. AdditiveGroup v =&gt; v -&gt; v -&gt; v
</span><span class="hs-operator hs-var">^-^</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scalar Duration
Duration
</span><a href="#local-6989586621680593662"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Scalar Duration -&gt; Duration -&gt; Duration
forall v. VectorSpace v =&gt; Scalar v -&gt; v -&gt; v
</span><span class="hs-operator hs-var">*^</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Duration
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593661"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#divModDur"><span class="hs-pragma hs-type">divModDur</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- TODO move Abort elsewhere</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- Abort is like 'State' but allow short-circuiting the computation.</span><span>
</span><span id="line-93"></span><span class="hs-keyword">data</span><span> </span><span id="Abort"><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-var">Abort</span></a></span></span><span> </span><span id="local-6989586621680594009"><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680594008"><span class="annot"><a href="#local-6989586621680594008"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Abort"><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-var">Abort</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runAbort"><span class="annot"><span class="annottext">Abort s a -&gt; s -&gt; (Maybe a, s)
</span><a href="Music.Time.Pattern.html#runAbort"><span class="hs-identifier hs-var hs-var">runAbort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680594008"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593650"><span id="local-6989586621680593652"><span class="annot"><span class="annottext">a -&gt; Abort s b -&gt; Abort s a
(a -&gt; b) -&gt; Abort s a -&gt; Abort s b
(forall a b. (a -&gt; b) -&gt; Abort s a -&gt; Abort s b)
-&gt; (forall a b. a -&gt; Abort s b -&gt; Abort s a) -&gt; Functor (Abort s)
forall a b. a -&gt; Abort s b -&gt; Abort s a
forall a b. (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
forall s a b. a -&gt; Abort s b -&gt; Abort s a
forall s a b. (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Abort s b -&gt; Abort s a
$c&lt;$ :: forall s a b. a -&gt; Abort s b -&gt; Abort s a
fmap :: (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
$cfmap :: forall s a b. (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593638"><span id="local-6989586621680593640"><span id="local-6989586621680593642"><span id="local-6989586621680593644"><span id="local-6989586621680593646"><span class="annot"><span class="annottext">Functor (Abort s)
a -&gt; Abort s a
Functor (Abort s) =&gt;
(forall a. a -&gt; Abort s a)
-&gt; (forall a b. Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c)
-&gt; (forall a b. Abort s a -&gt; Abort s b -&gt; Abort s b)
-&gt; (forall a b. Abort s a -&gt; Abort s b -&gt; Abort s a)
-&gt; Applicative (Abort s)
Abort s a -&gt; Abort s b -&gt; Abort s b
Abort s a -&gt; Abort s b -&gt; Abort s a
Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
(a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c
forall s. Functor (Abort s)
forall a. a -&gt; Abort s a
forall s a. a -&gt; Abort s a
forall a b. Abort s a -&gt; Abort s b -&gt; Abort s a
forall a b. Abort s a -&gt; Abort s b -&gt; Abort s b
forall a b. Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s a
forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s b
forall s a b. Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
forall a b c. (a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c
forall s a b c.
(a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c
forall (f :: * -&gt; *).
Functor f =&gt;
(forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
&lt;* :: Abort s a -&gt; Abort s b -&gt; Abort s a
$c&lt;* :: forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s a
*&gt; :: Abort s a -&gt; Abort s b -&gt; Abort s b
$c*&gt; :: forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s b
liftA2 :: (a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c
$cliftA2 :: forall s a b c.
(a -&gt; b -&gt; c) -&gt; Abort s a -&gt; Abort s b -&gt; Abort s c
&lt;*&gt; :: Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
$c&lt;*&gt; :: forall s a b. Abort s (a -&gt; b) -&gt; Abort s a -&gt; Abort s b
pure :: a -&gt; Abort s a
$cpure :: forall s a. a -&gt; Abort s a
$cp1Applicative :: forall s. Functor (Abort s)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593630"><span id="local-6989586621680593632"><span id="local-6989586621680593634"><span class="annot"><span class="annottext">Applicative (Abort s)
a -&gt; Abort s a
Applicative (Abort s) =&gt;
(forall a b. Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b)
-&gt; (forall a b. Abort s a -&gt; Abort s b -&gt; Abort s b)
-&gt; (forall a. a -&gt; Abort s a)
-&gt; Monad (Abort s)
Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b
Abort s a -&gt; Abort s b -&gt; Abort s b
forall s. Applicative (Abort s)
forall a. a -&gt; Abort s a
forall s a. a -&gt; Abort s a
forall a b. Abort s a -&gt; Abort s b -&gt; Abort s b
forall a b. Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b
forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s b
forall s a b. Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b
forall (m :: * -&gt; *).
Applicative m =&gt;
(forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: a -&gt; Abort s a
$creturn :: forall s a. a -&gt; Abort s a
&gt;&gt; :: Abort s a -&gt; Abort s b -&gt; Abort s b
$c&gt;&gt; :: forall s a b. Abort s a -&gt; Abort s b -&gt; Abort s b
&gt;&gt;= :: Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b
$c&gt;&gt;= :: forall s a b. Abort s a -&gt; (a -&gt; Abort s b) -&gt; Abort s b
$cp1Monad :: forall s. Applicative (Abort s)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593622"><span id="local-6989586621680593624"><span id="local-6989586621680593626"><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">`As1`</span></span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680594009"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-comment">-- | Abort the computation. The current state will be retained, but no</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- result will be returned.</span><span>
</span><span id="line-100"></span><span id="local-6989586621680593952"><span id="local-6989586621680593953"><span class="annot"><a href="Music.Time.Pattern.html#abort"><span class="hs-identifier hs-type">abort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593953"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593952"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-101"></span><span id="abort"><span class="annot"><span class="annottext">abort :: Abort s a
</span><a href="Music.Time.Pattern.html#abort"><span class="hs-identifier hs-var hs-var">abort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; (Maybe a, s)) -&gt; Abort s a
forall s a. (s -&gt; (Maybe a, s)) -&gt; Abort s a
</span><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-var">Abort</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (Maybe a, s)) -&gt; Abort s a)
-&gt; (s -&gt; (Maybe a, s)) -&gt; Abort s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680593618"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621680593618"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680593618"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span id="local-6989586621680593616"><span id="local-6989586621680593617"><span class="annot"><a href="Music.Time.Pattern.html#quit"><span class="hs-identifier hs-type">quit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680593617"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593616"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593617"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-104"></span><span id="quit"><span class="annot"><span class="annottext">quit :: a -&gt; Abort s a
</span><a href="Music.Time.Pattern.html#quit"><span class="hs-identifier hs-var hs-var">quit</span></a></span></span><span> </span><span id="local-6989586621680593614"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621680593614"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; (Maybe a, s)) -&gt; Abort s a
forall s a. (s -&gt; (Maybe a, s)) -&gt; Abort s a
</span><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-var">Abort</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (Maybe a, s)) -&gt; Abort s a)
-&gt; (s -&gt; (Maybe a, s)) -&gt; Abort s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680593613"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621680593613"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680593614"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680593613"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="local-6989586621680593611"><span id="local-6989586621680593612"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Inject</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593612"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680593611"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593612"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593611"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621680593608"><span class="annot"><span class="annottext">inj :: ExceptT () (State s) a -&gt; Abort s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">inj</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span id="local-6989586621680593605"><span class="annot"><span class="annottext">f :: State s (Either () a)
</span><a href="#local-6989586621680593605"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; (Maybe a, s)) -&gt; Abort s a
forall s a. (s -&gt; (Maybe a, s)) -&gt; Abort s a
</span><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-var">Abort</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; (Maybe a, s)) -&gt; Abort s a)
-&gt; (s -&gt; (Maybe a, s)) -&gt; Abort s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680593604"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621680593604"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either () a -&gt; Maybe a) -&gt; (Either () a, s) -&gt; (Maybe a, s)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">Either () a -&gt; Maybe a
forall a b. Either a b -&gt; Maybe b
</span><a href="Music.Time.Pattern.html#eitherToMaybe"><span class="hs-identifier hs-var">eitherToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">((Either () a, s) -&gt; (Maybe a, s))
-&gt; (Either () a, s) -&gt; (Maybe a, s)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">State s (Either () a) -&gt; s -&gt; (Either () a, s)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="annot"><span class="annottext">State s (Either () a)
</span><a href="#local-6989586621680593605"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680593604"><span class="hs-identifier hs-var">s</span></a></span></span></span><span>
</span><span id="line-108"></span><span id="local-6989586621680593600"><span id="local-6989586621680593601"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Project</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593601"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680593600"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593601"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593600"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621680593597"><span class="annot"><span class="annottext">prj :: Abort s a -&gt; ExceptT () (State s) a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">prj</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span id="local-6989586621680593595"><span class="annot"><span class="annottext">f :: s -&gt; (Maybe a, s)
</span><a href="#local-6989586621680593595"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StateT s Identity (Either () a) -&gt; ExceptT () (State s) a
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">ExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">(StateT s Identity (Either () a) -&gt; ExceptT () (State s) a)
-&gt; StateT s Identity (Either () a) -&gt; ExceptT () (State s) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(s -&gt; Identity (Either () a, s)) -&gt; StateT s Identity (Either () a)
forall s (m :: * -&gt; *) a. (s -&gt; m (a, s)) -&gt; StateT s m a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">StateT</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; Identity (Either () a, s))
 -&gt; StateT s Identity (Either () a))
-&gt; (s -&gt; Identity (Either () a, s))
-&gt; StateT s Identity (Either () a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe a, s) -&gt; Identity (Either () a, s))
-&gt; (s -&gt; (Maybe a, s)) -&gt; s -&gt; Identity (Either () a, s)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Either () a, s) -&gt; Identity (Either () a, s)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">((Either () a, s) -&gt; Identity (Either () a, s))
-&gt; ((Maybe a, s) -&gt; (Either () a, s))
-&gt; (Maybe a, s)
-&gt; Identity (Either () a, s)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; Either () a) -&gt; (Maybe a, s) -&gt; (Either () a, s)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Either () a
forall a. Maybe a -&gt; Either () a
</span><a href="Music.Time.Pattern.html#maybeToEither"><span class="hs-identifier hs-var">maybeToEither</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s -&gt; (Maybe a, s)
</span><a href="#local-6989586621680593595"><span class="hs-identifier hs-var">f</span></a></span></span></span><span>
</span><span id="line-110"></span><span id="local-6989586621680593590"><span id="local-6989586621680593591"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680593586"><span class="annot"><span class="hs-identifier hs-type">Isomorphic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593591"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680593590"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593591"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593590"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span id="local-6989586621680593988"><span id="local-6989586621680593989"><span class="annot"><a href="Music.Time.Pattern.html#eitherToMaybe"><span class="hs-identifier hs-type">eitherToMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593989"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593988"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593988"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-113"></span><span id="eitherToMaybe"><span class="annot"><span class="annottext">eitherToMaybe :: Either a b -&gt; Maybe b
</span><a href="Music.Time.Pattern.html#eitherToMaybe"><span class="hs-identifier hs-var hs-var">eitherToMaybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe b
forall a. Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-114"></span><span class="annot"><a href="Music.Time.Pattern.html#eitherToMaybe"><span class="hs-identifier hs-var">eitherToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680593584"><span class="annot"><span class="annottext">x :: b
</span><a href="#local-6989586621680593584"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Maybe b
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680593584"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span id="local-6989586621680593969"><span class="annot"><a href="Music.Time.Pattern.html#maybeToEither"><span class="hs-identifier hs-type">maybeToEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593969"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680593969"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-117"></span><span id="maybeToEither"><span class="annot"><span class="annottext">maybeToEither :: Maybe a -&gt; Either () a
</span><a href="Music.Time.Pattern.html#maybeToEither"><span class="hs-identifier hs-var hs-var">maybeToEither</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Either () a
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span class="annot"><a href="Music.Time.Pattern.html#maybeToEither"><span class="hs-identifier hs-var">maybeToEither</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680593583"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621680593583"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either () a
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680593583"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="annot"><a href="Music.Time.Pattern.html#t"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Abort"><span class="hs-identifier hs-type">Abort</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span id="t"><span class="annot"><span class="annottext">t :: Abort Int ()
</span><a href="Music.Time.Pattern.html#t"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">!</span><span id="local-6989586621680593581"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680593581"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abort Int Int
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; Abort Int () -&gt; Abort Int ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680593581"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Abort Int ()
forall s a. Abort s a
</span><a href="Music.Time.Pattern.html#abort"><span class="hs-identifier hs-var">abort</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; Abort Int ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Abort Int ()) -&gt; Int -&gt; Abort Int ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680593581"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><span class="annottext">Abort Int ()
</span><a href="Music.Time.Pattern.html#t"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621680593780"><span class="annot"><a href="Music.Time.Pattern.html#takeM"><span class="hs-identifier hs-type">takeM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#dropM"><span class="hs-identifier hs-type">dropM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593780"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593780"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-128"></span><span id="takeM"><span class="annot"><span class="annottext">takeM :: Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#takeM"><span class="hs-identifier hs-var hs-var">takeM</span></a></span></span><span> </span><span id="local-6989586621680593573"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593573"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Voice a, Voice a) -&gt; Voice a
forall a b. (a, b) -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((Voice a, Voice a) -&gt; Voice a)
-&gt; (Voice a -&gt; (Voice a, Voice a)) -&gt; Voice a -&gt; Voice a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; (Voice a, Voice a)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593573"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-129"></span><span id="dropM"><span class="annot"><span class="annottext">dropM :: Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#dropM"><span class="hs-identifier hs-var hs-var">dropM</span></a></span></span><span> </span><span id="local-6989586621680593571"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593571"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Voice a, Voice a) -&gt; Voice a
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Voice a, Voice a) -&gt; Voice a)
-&gt; (Voice a -&gt; (Voice a, Voice a)) -&gt; Voice a -&gt; Voice a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; (Voice a, Voice a)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593571"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">data</span><span> </span><span id="SplitAtState"><span class="annot"><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-var">SplitAtState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SplitAtState"><span class="annot"><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-var">SplitAtState</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="remainingDur"><span class="annot"><span class="annottext">SplitAtState -&gt; Duration
</span><a href="Music.Time.Pattern.html#remainingDur"><span class="hs-identifier hs-var hs-var">remainingDur</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">,</span><span> </span><span id="notesEaten"><span class="annot"><span class="annottext">SplitAtState -&gt; Integer
</span><a href="Music.Time.Pattern.html#notesEaten"><span class="hs-identifier hs-var hs-var">notesEaten</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.2.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593562"><span id="local-6989586621680593564"><span id="local-6989586621680593566"><span class="annot"><span class="annottext">Int -&gt; SplitAtState -&gt; ShowS
[SplitAtState] -&gt; ShowS
SplitAtState -&gt; String
(Int -&gt; SplitAtState -&gt; ShowS)
-&gt; (SplitAtState -&gt; String)
-&gt; ([SplitAtState] -&gt; ShowS)
-&gt; Show SplitAtState
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SplitAtState] -&gt; ShowS
$cshowList :: [SplitAtState] -&gt; ShowS
show :: SplitAtState -&gt; String
$cshow :: SplitAtState -&gt; String
showsPrec :: Int -&gt; SplitAtState -&gt; ShowS
$cshowsPrec :: Int -&gt; SplitAtState -&gt; ShowS
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621680593911"><span class="annot"><a href="Music.Time.Pattern.html#fromVoice"><span class="hs-identifier hs-type">fromVoice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593911"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593911"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-135"></span><span id="local-6989586621680593910"><span class="annot"><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-type">toVoice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593910"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593910"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-136"></span><span class="hs-special">(</span><span id="fromVoice"><span class="annot"><span class="annottext">fromVoice :: Voice a -&gt; [Note a]
</span><a href="Music.Time.Pattern.html#fromVoice"><span class="hs-identifier hs-var">fromVoice</span></a></span></span><span class="hs-special">,</span><span> </span><span id="toVoice"><span class="annot"><span class="annottext">toVoice :: [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting [Note a] (Voice a) [Note a] -&gt; Voice a -&gt; [Note a]
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting [Note a] (Voice a) [Note a]
forall a b. Iso (Voice a) (Voice b) [Note a] [Note b]
</span><a href="Music.Time.Voice.html#notes"><span class="hs-identifier hs-var">notes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Getting (Voice a) [Note a] (Voice a) -&gt; [Note a] -&gt; Voice a
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting (Voice a) [Note a] (Voice a)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621680593915"><span class="annot"><a href="Music.Time.Pattern.html#fromNote"><span class="hs-identifier hs-type">fromNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593915"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680593915"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-139"></span><span id="local-6989586621680593914"><span class="annot"><a href="Music.Time.Pattern.html#toNote"><span class="hs-identifier hs-type">toNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680593914"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593914"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-140"></span><span class="hs-special">(</span><span id="fromNote"><span class="annot"><span class="annottext">fromNote :: Note a -&gt; (Duration, a)
</span><a href="Music.Time.Pattern.html#fromNote"><span class="hs-identifier hs-var">fromNote</span></a></span></span><span class="hs-special">,</span><span> </span><span id="toNote"><span class="annot"><span class="annottext">toNote :: (Duration, a) -&gt; Note a
</span><a href="Music.Time.Pattern.html#toNote"><span class="hs-identifier hs-var">toNote</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (Duration, a) (Note a) (Duration, a)
-&gt; Note a -&gt; (Duration, a)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">(Getting (Duration, a) (Note a) (Duration, a)
 -&gt; Note a -&gt; (Duration, a))
-&gt; Getting (Duration, a) (Note a) (Duration, a)
-&gt; Note a
-&gt; (Duration, a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnIso (Duration, a) (Duration, a) (Note a) (Note a)
-&gt; Iso (Note a) (Note a) (Duration, a) (Duration, a)
forall s t a b. AnIso s t a b -&gt; Iso b a t s
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">AnIso (Duration, a) (Duration, a) (Note a) (Note a)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Getting (Note a) (Duration, a) (Note a) -&gt; (Duration, a) -&gt; Note a
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting (Note a) (Duration, a) (Note a)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-comment">-- | Duration must be &gt;0</span><span>
</span><span id="line-143"></span><span id="local-6989586621680593907"><span class="annot"><a href="Music.Time.Pattern.html#splitNote"><span class="hs-identifier hs-type">splitNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593907"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593907"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Note.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593907"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-144"></span><span id="splitNote"><span class="annot"><span class="annottext">splitNote :: Duration -&gt; Note a -&gt; (Note a, Maybe (Note a))
</span><a href="Music.Time.Pattern.html#splitNote"><span class="hs-identifier hs-var hs-var">splitNote</span></a></span></span><span> </span><span id="local-6989586621680593552"><span class="annot"><span class="annottext">d' :: Duration
</span><a href="#local-6989586621680593552"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Note a -&gt; (Duration, a)
forall a. Note a -&gt; (Duration, a)
</span><a href="Music.Time.Pattern.html#fromNote"><span class="hs-identifier hs-var">fromNote</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593551"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593551"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593550"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621680593550"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593552"><span class="hs-identifier hs-var">d'</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593551"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Duration, a) -&gt; Note a
forall a. (Duration, a) -&gt; Note a
</span><a href="Music.Time.Pattern.html#toNote"><span class="hs-identifier hs-var">toNote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593552"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680593550"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Note a -&gt; Maybe (Note a)
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Note a -&gt; Maybe (Note a)) -&gt; Note a -&gt; Maybe (Note a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, a) -&gt; Note a
forall a. (Duration, a) -&gt; Note a
</span><a href="Music.Time.Pattern.html#toNote"><span class="hs-identifier hs-var">toNote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593551"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593552"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680593550"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Duration, a) -&gt; Note a
forall a. (Duration, a) -&gt; Note a
</span><a href="Music.Time.Pattern.html#toNote"><span class="hs-identifier hs-var">toNote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593551"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680593550"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (Note a)
forall a. Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- Take the given number of notes and up to d of the next note.</span><span>
</span><span id="line-150"></span><span id="local-6989586621680593893"><span class="annot"><a href="Music.Time.Pattern.html#splitNotesAt"><span class="hs-identifier hs-type">splitNotesAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.2.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593893"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593893"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593893"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-151"></span><span id="splitNotesAt"><span class="annot"><span class="annottext">splitNotesAt :: Integer -&gt; Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitNotesAt"><span class="hs-identifier hs-var hs-var">splitNotesAt</span></a></span></span><span> </span><span id="local-6989586621680593547"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621680593547"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680593546"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593546"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680593545"><span class="annot"><span class="annottext">xs :: Voice a
</span><a href="#local-6989586621680593545"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593546"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Note a] -&gt; ([Note a], [Note a])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Data.List.splitAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593547"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Voice a -&gt; [Note a]
forall a. Voice a -&gt; [Note a]
</span><a href="Music.Time.Pattern.html#fromVoice"><span class="hs-identifier hs-var">fromVoice</span></a></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593545"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-154"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680593543"><span class="annot"><span class="annottext">ys :: [Note a]
</span><a href="#local-6989586621680593543"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680593542"><span class="annot"><span class="annottext">zs :: [Note a]
</span><a href="#local-6989586621680593542"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-155"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593543"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593542"><span class="hs-identifier hs-var">zs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">([Note a] -&gt; Maybe (Note a, [Note a]))
-&gt; ([Note a], [Note a]) -&gt; ([Note a], Maybe (Note a, [Note a]))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a] -&gt; Maybe (Note a, [Note a])
forall a. [a] -&gt; Maybe (a, [a])
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Data.List.uncons</span></a></span><span> </span><span class="annot"><span class="annottext">(([Note a], [Note a]) -&gt; ([Note a], Maybe (Note a, [Note a])))
-&gt; ([Note a], [Note a]) -&gt; ([Note a], Maybe (Note a, [Note a]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Note a] -&gt; ([Note a], [Note a])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Data.List.splitAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593547"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Voice a -&gt; [Note a]
forall a. Voice a -&gt; [Note a]
</span><a href="Music.Time.Pattern.html#fromVoice"><span class="hs-identifier hs-var">fromVoice</span></a></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593545"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680593540"><span class="annot"><span class="annottext">ys :: [Note a]
</span><a href="#local-6989586621680593540"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593540"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Voice a
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680593539"><span class="annot"><span class="annottext">ys :: [Note a]
</span><a href="#local-6989586621680593539"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593538"><span class="annot"><span class="annottext">z :: Note a
</span><a href="#local-6989586621680593538"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593537"><span class="annot"><span class="annottext">zs :: [Note a]
</span><a href="#local-6989586621680593537"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Note a -&gt; (Note a, Maybe (Note a))
forall a. Duration -&gt; Note a -&gt; (Note a, Maybe (Note a))
</span><a href="Music.Time.Pattern.html#splitNote"><span class="hs-identifier hs-var">splitNote</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593546"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593538"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621680593536"><span class="annot"><span class="annottext">m :: Note a
</span><a href="#local-6989586621680593536"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593539"><span class="hs-identifier hs-var">ys</span></a></span><span class="annot"><span class="annottext">[Note a] -&gt; [Note a] -&gt; [Note a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">[</span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593536"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593537"><span class="hs-identifier hs-var">zs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621680593535"><span class="annot"><span class="annottext">m :: Note a
</span><a href="#local-6989586621680593535"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680593534"><span class="annot"><span class="annottext">o :: Note a
</span><a href="#local-6989586621680593534"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593539"><span class="hs-identifier hs-var">ys</span></a></span><span class="annot"><span class="annottext">[Note a] -&gt; [Note a] -&gt; [Note a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">[</span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593535"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Note a] -&gt; Voice a
forall a. [Note a] -&gt; Voice a
</span><a href="Music.Time.Pattern.html#toVoice"><span class="hs-identifier hs-var">toVoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593534"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Note a -&gt; [Note a] -&gt; [Note a]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Note a]
</span><a href="#local-6989586621680593537"><span class="hs-identifier hs-var">zs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">-- TODO move splitAt to Time.Voice</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621680593894"><span class="annot"><a href="Music.Time.Pattern.html#getSplitPoint"><span class="hs-identifier hs-type">getSplitPoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593894"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-type">SplitAtState</span></a></span></span><span>
</span><span id="line-166"></span><span id="getSplitPoint"><span class="annot"><span class="annottext">getSplitPoint :: Duration -&gt; Voice a -&gt; SplitAtState
</span><a href="Music.Time.Pattern.html#getSplitPoint"><span class="hs-identifier hs-var hs-var">getSplitPoint</span></a></span></span><span> </span><span id="local-6989586621680593532"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593532"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680593531"><span class="annot"><span class="annottext">xs :: Voice a
</span><a href="#local-6989586621680593531"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-167"></span><span>  </span><span class="annot"><span class="annottext">(Maybe [()], SplitAtState) -&gt; SplitAtState
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe [()], SplitAtState) -&gt; SplitAtState)
-&gt; (Maybe [()], SplitAtState) -&gt; SplitAtState
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Abort SplitAtState [()]
 -&gt; SplitAtState -&gt; (Maybe [()], SplitAtState))
-&gt; SplitAtState
-&gt; Abort SplitAtState [()]
-&gt; (Maybe [()], SplitAtState)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Abort SplitAtState [()]
-&gt; SplitAtState -&gt; (Maybe [()], SplitAtState)
forall s a. Abort s a -&gt; s -&gt; (Maybe a, s)
</span><a href="Music.Time.Pattern.html#runAbort"><span class="hs-identifier hs-var hs-var">runAbort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SplitAtState :: Duration -&gt; Integer -&gt; SplitAtState
</span><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-type hs-type">SplitAtState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">remainingDur :: Duration
</span><a href="Music.Time.Pattern.html#remainingDur"><span class="hs-identifier hs-var">remainingDur</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593532"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">notesEaten :: Integer
</span><a href="Music.Time.Pattern.html#notesEaten"><span class="hs-identifier hs-var">notesEaten</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Abort SplitAtState [()] -&gt; (Maybe [()], SplitAtState))
-&gt; Abort SplitAtState [()] -&gt; (Maybe [()], SplitAtState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><span class="annottext">[Note a]
-&gt; (Note a -&gt; Abort SplitAtState ()) -&gt; Abort SplitAtState [()]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting [Note a] (Voice a) [Note a] -&gt; Voice a -&gt; [Note a]
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting [Note a] (Voice a) [Note a]
forall a b. Iso (Voice a) (Voice b) [Note a] [Note b]
</span><a href="Music.Time.Voice.html#notes"><span class="hs-identifier hs-var">notes</span></a></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593531"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Note a -&gt; Abort SplitAtState ()) -&gt; Abort SplitAtState [()])
-&gt; (Note a -&gt; Abort SplitAtState ()) -&gt; Abort SplitAtState [()]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680593528"><span class="annot"><span class="annottext">note :: Note a
</span><a href="#local-6989586621680593528"><span class="hs-identifier hs-var">note</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-type">SplitAtState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680593527"><span class="annot"><span class="annottext">Duration
remainingDur :: Duration
remainingDur :: SplitAtState -&gt; Duration
</span><a href="#local-6989586621680593527"><span class="hs-identifier hs-var hs-var">remainingDur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593526"><span class="annot"><span class="annottext">Integer
notesEaten :: Integer
notesEaten :: SplitAtState -&gt; Integer
</span><a href="#local-6989586621680593526"><span class="hs-identifier hs-var hs-var">notesEaten</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Abort SplitAtState SplitAtState
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Note a -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593528"><span class="hs-identifier hs-var">note</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593527"><span class="hs-identifier hs-var">remainingDur</span></a></span><span>
</span><span id="line-171"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-172"></span><span>          </span><span class="annot"><span class="annottext">Abort SplitAtState ()
forall s a. Abort s a
</span><a href="Music.Time.Pattern.html#abort"><span class="hs-identifier hs-var">abort</span></a></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-keyword">else</span><span>
</span><span id="line-174"></span><span>          </span><span class="annot"><span class="annottext">SplitAtState -&gt; Abort SplitAtState ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">(SplitAtState -&gt; Abort SplitAtState ())
-&gt; SplitAtState -&gt; Abort SplitAtState ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SplitAtState :: Duration -&gt; Integer -&gt; SplitAtState
</span><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-type hs-type">SplitAtState</span></a></span><span>
</span><span id="line-175"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">remainingDur :: Duration
</span><a href="Music.Time.Pattern.html#remainingDur"><span class="hs-identifier hs-var">remainingDur</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593527"><span class="hs-identifier hs-var">remainingDur</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Note a -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Note a
</span><a href="#local-6989586621680593528"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-176"></span><span>            </span><span class="annot"><span class="annottext">notesEaten :: Integer
</span><a href="Music.Time.Pattern.html#notesEaten"><span class="hs-identifier hs-var">notesEaten</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593526"><span class="hs-identifier hs-var">notesEaten</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- TODO property tests:</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">--    (\x y -&gt; _duration + _duration y) (splitAt d xs) = _duration xs</span><span>
</span><span id="line-181"></span><span class="hs-comment">--</span><span>
</span><span id="line-182"></span><span class="hs-comment">--    _duration (takeM d xs) = min d (_duration xs)</span><span>
</span><span id="line-183"></span><span id="local-6989586621680593946"><span class="annot"><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-type">splitAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593946"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593946"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-184"></span><span id="splitAt"><span class="annot"><span class="annottext">splitAt :: Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var hs-var">splitAt</span></a></span></span><span> </span><span id="local-6989586621680593524"><span class="annot"><span class="annottext">d :: Duration
</span><a href="#local-6989586621680593524"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680593523"><span class="annot"><span class="annottext">xs :: Voice a
</span><a href="#local-6989586621680593523"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SplitAtState -&gt; (Voice a, Voice a)
</span><a href="#local-6989586621680593522"><span class="hs-identifier hs-var">split</span></a></span><span> </span><span class="annot"><span class="annottext">(SplitAtState -&gt; (Voice a, Voice a))
-&gt; SplitAtState -&gt; (Voice a, Voice a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; SplitAtState
forall a. Duration -&gt; Voice a -&gt; SplitAtState
</span><a href="Music.Time.Pattern.html#getSplitPoint"><span class="hs-identifier hs-var">getSplitPoint</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593524"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593523"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621680593522"><span class="annot"><span class="annottext">split :: SplitAtState -&gt; (Voice a, Voice a)
</span><a href="#local-6989586621680593522"><span class="hs-identifier hs-var hs-var">split</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#SplitAtState"><span class="hs-identifier hs-type">SplitAtState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680593521"><span class="annot"><span class="annottext">Duration
remainingDur :: Duration
remainingDur :: SplitAtState -&gt; Duration
</span><a href="#local-6989586621680593521"><span class="hs-identifier hs-var hs-var">remainingDur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593520"><span class="annot"><span class="annottext">Integer
notesEaten :: Integer
notesEaten :: SplitAtState -&gt; Integer
</span><a href="#local-6989586621680593520"><span class="hs-identifier hs-var hs-var">notesEaten</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Duration -&gt; Voice a -&gt; (Voice a, Voice a)
forall a. Integer -&gt; Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitNotesAt"><span class="hs-identifier hs-var">splitNotesAt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593520"><span class="hs-identifier hs-var">notesEaten</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593521"><span class="hs-identifier hs-var">remainingDur</span></a></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593523"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- TODO proper test</span><span>
</span><span id="line-191"></span><span class="annot"><a href="Music.Time.Pattern.html#testSplitAt"><span class="hs-identifier hs-type">testSplitAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-192"></span><span id="testSplitAt"><span class="annot"><span class="annottext">testSplitAt :: Bool
</span><a href="Music.Time.Pattern.html#testSplitAt"><span class="hs-identifier hs-var hs-var">testSplitAt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; [Bool] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
forall a. a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; (Voice Char, Voice Char)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>    </span><span class="annot"><span class="annottext">(Voice Char, Voice Char) -&gt; (Voice Char, Voice Char) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; (Voice Char, Voice Char)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><span class="annottext">(Voice Char, Voice Char) -&gt; (Voice Char, Voice Char) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; (Voice Char, Voice Char)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="hs-number">0.5</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>    </span><span class="annot"><span class="annottext">(Voice Char, Voice Char) -&gt; (Voice Char, Voice Char) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; (Voice Char, Voice Char)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="hs-number">2.5</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">(Voice Char, Voice Char) -&gt; (Voice Char, Voice Char) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1.5</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; (Voice Char, Voice Char)
forall a. Duration -&gt; Voice a -&gt; (Voice a, Voice a)
</span><a href="Music.Time.Pattern.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><span class="annottext">(Voice Char, Voice Char) -&gt; (Voice Char, Voice Char) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><a href="Music.Time.Pattern.html#modDur"><span class="hs-identifier hs-type">modDur</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span>
</span><span id="line-210"></span><span id="modDur"><span class="annot"><span class="annottext">modDur :: Duration -&gt; Duration -&gt; Duration
</span><a href="Music.Time.Pattern.html#modDur"><span class="hs-identifier hs-var hs-var">modDur</span></a></span></span><span> </span><span id="local-6989586621680593515"><span class="annot"><span class="annottext">a :: Duration
</span><a href="#local-6989586621680593515"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680593514"><span class="annot"><span class="annottext">b :: Duration
</span><a href="#local-6989586621680593514"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer, Duration) -&gt; Duration
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Integer, Duration) -&gt; Duration)
-&gt; (Integer, Duration) -&gt; Duration
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593515"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; (Integer, Duration)
</span><a href="Music.Time.Pattern.html#divModDur"><span class="hs-operator hs-var">`divModDur`</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593514"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-type">getCycles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.2.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span id="getCycles"><span class="annot"><span class="annottext">getCycles :: Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var hs-var">getCycles</span></a></span></span><span> </span><span id="local-6989586621680593512"><span class="annot"><span class="annottext">ts :: Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span id="local-6989586621680593511"><span class="annot"><span class="annottext">s :: Span
</span><a href="#local-6989586621680593511"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either Duration (Duration, Integer, Duration)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getCycles: Duration of repeated span must be &gt;0&quot;</span></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-comment">--  | _duration s &lt; _duration ts = (0, 0, _duration s)</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593509"><span class="hs-identifier hs-var">cycles</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-217"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593508"><span class="hs-identifier hs-var">rem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593509"><span class="hs-identifier hs-var">cycles</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593507"><span class="hs-identifier hs-var">phase</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Either Duration (Duration, Integer, Duration)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593508"><span class="hs-identifier hs-var">rem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-220"></span><span>    </span><span id="local-6989586621680593507"><span class="annot"><span class="annottext">phase :: Duration
</span><a href="#local-6989586621680593507"><span class="hs-identifier hs-var hs-var">phase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#offset"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593511"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Diff Time
forall p. AffineSpace p =&gt; p -&gt; p -&gt; Diff p
</span><span class="hs-operator hs-var">.-.</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#offset"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
</span><a href="Music.Time.Pattern.html#modDur"><span class="hs-operator hs-var">`modDur`</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680593509"><span class="annot"><span class="annottext">cycles :: Integer
</span><a href="#local-6989586621680593509"><span class="hs-identifier hs-var">cycles</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593508"><span class="annot"><span class="annottext">rem :: Duration
</span><a href="#local-6989586621680593508"><span class="hs-identifier hs-var">rem</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593511"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593507"><span class="hs-identifier hs-var">phase</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; (Integer, Duration)
</span><a href="Music.Time.Pattern.html#divModDur"><span class="hs-operator hs-var">`divModDur`</span></a></span><span> </span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593512"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- TODO proper test</span><span>
</span><span id="line-224"></span><span class="annot"><a href="Music.Time.Pattern.html#testGetCycles"><span class="hs-identifier hs-type">testGetCycles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-225"></span><span id="testGetCycles"><span class="annot"><span class="annottext">testGetCycles :: Bool
</span><a href="Music.Time.Pattern.html#testGetCycles"><span class="hs-identifier hs-var hs-var">testGetCycles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; [Bool] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
forall a. a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-comment">-- At least one cycle</span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">5</span></span><span class="hs-special">)</span><span>      </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">9</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">2.5</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1.5</span></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-comment">-- No full cycles, s properly enclosed by a cycle</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1.5</span></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Either Duration (Duration, Integer, Duration)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.6</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1.6</span></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Either Duration (Duration, Integer, Duration)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.6</span></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">0.2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">0.1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Either Duration (Duration, Integer, Duration)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1.8</span></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-comment">-- No full cycles, s NOT properly enclosed by a cycle</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>         </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>      </span><span class="annot"><span class="annottext">Either Duration (Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">(Duration, Integer, Duration)
-&gt; Either Duration (Duration, Integer, Duration)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span id="local-6989586621680593502"><span class="annot"><a href="Music.Time.Pattern.html#testC"><span class="hs-identifier hs-type">testC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593502"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.2.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-246"></span><span id="testC"><span class="annot"><span class="annottext">testC :: Span
-&gt; Aligned (Voice a)
-&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#testC"><span class="hs-identifier hs-var hs-var">testC</span></a></span></span><span> </span><span id="local-6989586621680593500"><span class="annot"><span class="annottext">s :: Span
</span><a href="#local-6989586621680593500"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680593499"><span class="annot"><span class="annottext">l :: Aligned (Voice a)
</span><a href="#local-6989586621680593499"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Span
forall a. HasPosition1 a =&gt; a -&gt; Span
</span><a href="Music.Time.Position.html#_era1"><span class="hs-identifier hs-var">_era1</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593499"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593500"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="annot"><a href="Music.Time.Pattern.html#testRenderLungaNEW"><span class="hs-identifier hs-type">testRenderLungaNEW</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-249"></span><span id="testRenderLungaNEW"><span class="annot"><span class="annottext">testRenderLungaNEW :: Bool
</span><a href="Music.Time.Pattern.html#testRenderLungaNEW"><span class="hs-identifier hs-var hs-var">testRenderLungaNEW</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; [Bool] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
forall a. a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-250"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593492"><span class="hs-identifier hs-var">aba1</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">1.5</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Char -&gt; Aligned (Voice Char)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Voice Char -&gt; Aligned (Voice Char))
-&gt; Voice Char -&gt; Aligned (Voice Char)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice Char -&gt; Voice Char
forall a. Transformable a =&gt; Duration -&gt; a -&gt; a
</span><a href="Music.Time.Internal.Transform.html#stretch"><span class="hs-identifier hs-var">stretch</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Voice Char -&gt; Voice Char) -&gt; Voice Char -&gt; Voice Char
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Voice Char
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0.5</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1.5</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">5</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">7</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Int) -&gt; Score Int
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Int -&gt; Aligned (Voice Int)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Voice Int
forall a. IsPitch a =&gt; a
</span><a href="Music.Pitch.Common.Internal.html#c"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><span class="annottext">Score Int -&gt; Score Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Int]
-&gt; Getting (Score Int) [Event Int] (Score Int) -&gt; Score Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Int) [Event Int] (Score Int)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Int) -&gt; Score Int
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a. Transformable a =&gt; Duration -&gt; a -&gt; a
</span><a href="Music.Time.Internal.Transform.html#stretch"><span class="hs-identifier hs-var">stretch</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice Int) -&gt; Aligned (Voice Int))
-&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Int -&gt; Aligned (Voice Int)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Voice Int
forall a. IsPitch a =&gt; a
</span><a href="Music.Pitch.Common.Internal.html#c"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><span class="annottext">Score Int -&gt; Score Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Int]
-&gt; Getting (Score Int) [Event Int] (Score Int) -&gt; Score Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Int) [Event Int] (Score Int)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Int) -&gt; Score Int
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a. Transformable a =&gt; Duration -&gt; a -&gt; a
</span><a href="Music.Time.Internal.Transform.html#delay"><span class="hs-identifier hs-var">delay</span></a></span><span> </span><span class="annot"><span class="hs-number">0.3</span></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice Int) -&gt; Aligned (Voice Int))
-&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a. Transformable a =&gt; Duration -&gt; a -&gt; a
</span><a href="Music.Time.Internal.Transform.html#stretch"><span class="hs-identifier hs-var">stretch</span></a></span><span> </span><span class="annot"><span class="hs-number">0.9</span></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice Int) -&gt; Aligned (Voice Int))
-&gt; Aligned (Voice Int) -&gt; Aligned (Voice Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Int -&gt; Aligned (Voice Int)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Voice Int
forall a. IsPitch a =&gt; a
</span><a href="Music.Pitch.Common.Internal.html#c"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><span class="annottext">Score Int -&gt; Score Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Time
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="hs-number">10</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">3</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Time
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">6</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Time
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="hs-number">5</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">6</span></span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Time
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">/</span></a></span><span class="annot"><span class="hs-number">5</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Int)
-&gt; Getting (Event Int) (Span, Int) (Event Int) -&gt; Event Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Int) (Span, Int) (Event Int)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Int]
-&gt; Getting (Score Int) [Event Int] (Score Int) -&gt; Score Int
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Int) [Event Int] (Score Int)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice Char) -&gt; Score Char
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var">aba</span></a></span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="annottext">Score Char -&gt; Score Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">4</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Span
</span><a href="Music.Time.Types.html#%3C-%3E"><span class="hs-operator hs-var">&lt;-&gt;</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Span, Char)
-&gt; Getting (Event Char) (Span, Char) (Event Char) -&gt; Event Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Event Char) (Span, Char) (Event Char)
forall a b. Iso (Span, a) (Span, b) (Event a) (Event b)
</span><a href="Music.Time.Event.html#event"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Event Char]
-&gt; Getting (Score Char) [Event Char] (Score Char) -&gt; Score Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Score Char) [Event Char] (Score Char)
forall a. Getter [Event a] (Score a)
</span><a href="Music.Time.Score.html#score"><span class="hs-identifier hs-var">score</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621680593495"><span class="annot"><span class="annottext">aba :: Aligned (Voice Char)
</span><a href="#local-6989586621680593495"><span class="hs-identifier hs-var hs-var">aba</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Char -&gt; Aligned (Voice Char)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Voice Char -&gt; Aligned (Voice Char))
-&gt; Voice Char -&gt; Aligned (Voice Char)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621680593492"><span class="annot"><span class="annottext">aba1 :: Aligned (Voice Char)
</span><a href="#local-6989586621680593492"><span class="hs-identifier hs-var hs-var">aba1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-287"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice Char -&gt; Aligned (Voice Char)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(Voice Char -&gt; Aligned (Voice Char))
-&gt; Voice Char -&gt; Aligned (Voice Char)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'a'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'b'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-char">'c'</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Duration, Char)
-&gt; Getting (Note Char) (Duration, Char) (Note Char) -&gt; Note Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Note Char) (Duration, Char) (Note Char)
forall a b. Iso (Duration, a) (Duration, b) (Note a) (Note b)
</span><a href="Music.Time.Note.html#note"><span class="hs-identifier hs-var">note</span></a></span><span class="hs-special">]</span><span class="annot"><span class="annottext">[Note Char]
-&gt; Getting (Voice Char) [Note Char] (Voice Char) -&gt; Voice Char
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span class="annot"><span class="annottext">Getting (Voice Char) [Note Char] (Voice Char)
forall a. Iso' [Note a] (Voice a)
</span><a href="Music.Time.Voice.html#voice"><span class="hs-identifier hs-var">voice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-keyword">newtype</span><span> </span><span id="Lunga"><span class="annot"><a href="Music.Time.Pattern.html#Lunga"><span class="hs-identifier hs-var">Lunga</span></a></span></span><span> </span><span id="local-6989586621680593778"><span class="annot"><a href="#local-6989586621680593778"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Lunga"><span class="annot"><a href="Music.Time.Pattern.html#Lunga"><span class="hs-identifier hs-var">Lunga</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getLunga"><span class="annot"><span class="annottext">Lunga a -&gt; [Aligned a]
</span><a href="Music.Time.Pattern.html#getLunga"><span class="hs-identifier hs-var hs-var">getLunga</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593778"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593483"><span id="local-6989586621680593485"><span class="annot"><span class="annottext">a -&gt; Lunga b -&gt; Lunga a
(a -&gt; b) -&gt; Lunga a -&gt; Lunga b
(forall a b. (a -&gt; b) -&gt; Lunga a -&gt; Lunga b)
-&gt; (forall a b. a -&gt; Lunga b -&gt; Lunga a) -&gt; Functor Lunga
forall a b. a -&gt; Lunga b -&gt; Lunga a
forall a b. (a -&gt; b) -&gt; Lunga a -&gt; Lunga b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Lunga b -&gt; Lunga a
$c&lt;$ :: forall a b. a -&gt; Lunga b -&gt; Lunga a
fmap :: (a -&gt; b) -&gt; Lunga a -&gt; Lunga b
$cfmap :: forall a b. (a -&gt; b) -&gt; Lunga a -&gt; Lunga b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593449"><span id="local-6989586621680593451"><span id="local-6989586621680593453"><span id="local-6989586621680593455"><span id="local-6989586621680593457"><span id="local-6989586621680593459"><span id="local-6989586621680593461"><span id="local-6989586621680593463"><span id="local-6989586621680593465"><span id="local-6989586621680593467"><span id="local-6989586621680593469"><span id="local-6989586621680593471"><span id="local-6989586621680593473"><span id="local-6989586621680593475"><span id="local-6989586621680593477"><span id="local-6989586621680593479"><span id="local-6989586621680593481"><span class="annot"><span class="annottext">Lunga a -&gt; Bool
(a -&gt; m) -&gt; Lunga a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
(forall m. Monoid m =&gt; Lunga m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Lunga a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Lunga a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a)
-&gt; (forall a. Lunga a -&gt; [a])
-&gt; (forall a. Lunga a -&gt; Bool)
-&gt; (forall a. Lunga a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Lunga a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Lunga a -&gt; a)
-&gt; (forall a. Ord a =&gt; Lunga a -&gt; a)
-&gt; (forall a. Num a =&gt; Lunga a -&gt; a)
-&gt; (forall a. Num a =&gt; Lunga a -&gt; a)
-&gt; Foldable Lunga
forall a. Eq a =&gt; a -&gt; Lunga a -&gt; Bool
forall a. Num a =&gt; Lunga a -&gt; a
forall a. Ord a =&gt; Lunga a -&gt; a
forall m. Monoid m =&gt; Lunga m -&gt; m
forall a. Lunga a -&gt; Bool
forall a. Lunga a -&gt; Int
forall a. Lunga a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Lunga a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Lunga a -&gt; a
$cproduct :: forall a. Num a =&gt; Lunga a -&gt; a
sum :: Lunga a -&gt; a
$csum :: forall a. Num a =&gt; Lunga a -&gt; a
minimum :: Lunga a -&gt; a
$cminimum :: forall a. Ord a =&gt; Lunga a -&gt; a
maximum :: Lunga a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Lunga a -&gt; a
elem :: a -&gt; Lunga a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Lunga a -&gt; Bool
length :: Lunga a -&gt; Int
$clength :: forall a. Lunga a -&gt; Int
null :: Lunga a -&gt; Bool
$cnull :: forall a. Lunga a -&gt; Bool
toList :: Lunga a -&gt; [a]
$ctoList :: forall a. Lunga a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Lunga a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Lunga a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Lunga a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Lunga a -&gt; m
foldMap :: (a -&gt; m) -&gt; Lunga a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Lunga a -&gt; m
fold :: Lunga m -&gt; m
$cfold :: forall m. Monoid m =&gt; Lunga m -&gt; m
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593438"><span id="local-6989586621680593440"><span id="local-6989586621680593442"><span id="local-6989586621680593444"><span class="annot"><span class="annottext">Functor Lunga
Foldable Lunga
(Functor Lunga, Foldable Lunga) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Lunga a -&gt; f (Lunga b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Lunga (f a) -&gt; f (Lunga a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Lunga a -&gt; m (Lunga b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; Lunga (m a) -&gt; m (Lunga a))
-&gt; Traversable Lunga
(a -&gt; f b) -&gt; Lunga a -&gt; f (Lunga b)
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Lunga (m a) -&gt; m (Lunga a)
forall (f :: * -&gt; *) a. Applicative f =&gt; Lunga (f a) -&gt; f (Lunga a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Lunga a -&gt; m (Lunga b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Lunga a -&gt; f (Lunga b)
sequence :: Lunga (m a) -&gt; m (Lunga a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Lunga (m a) -&gt; m (Lunga a)
mapM :: (a -&gt; m b) -&gt; Lunga a -&gt; m (Lunga b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Lunga a -&gt; m (Lunga b)
sequenceA :: Lunga (f a) -&gt; f (Lunga a)
$csequenceA :: forall (f :: * -&gt; *) a. Applicative f =&gt; Lunga (f a) -&gt; f (Lunga a)
traverse :: (a -&gt; f b) -&gt; Lunga a -&gt; f (Lunga b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Lunga a -&gt; f (Lunga b)
$cp2Traversable :: Foldable Lunga
$cp1Traversable :: Functor Lunga
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593435"><span class="annot"><span class="annottext">Span -&gt; Lunga a -&gt; Lunga a
(Span -&gt; Lunga a -&gt; Lunga a) -&gt; Transformable (Lunga a)
forall a. Transformable a =&gt; Span -&gt; Lunga a -&gt; Lunga a
forall a. (Span -&gt; a -&gt; a) -&gt; Transformable a
transform :: Span -&gt; Lunga a -&gt; Lunga a
$ctransform :: forall a. Transformable a =&gt; Span -&gt; Lunga a -&gt; Lunga a
</span><a href="Music.Time.Internal.Transform.html#C%3ATransformable"><span class="hs-identifier hs-var hs-var hs-var hs-var">Transformable</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593428"><span id="local-6989586621680593430"><span id="local-6989586621680593432"><span class="annot"><span class="annottext">b -&gt; Lunga a -&gt; Lunga a
NonEmpty (Lunga a) -&gt; Lunga a
Lunga a -&gt; Lunga a -&gt; Lunga a
(Lunga a -&gt; Lunga a -&gt; Lunga a)
-&gt; (NonEmpty (Lunga a) -&gt; Lunga a)
-&gt; (forall b. Integral b =&gt; b -&gt; Lunga a -&gt; Lunga a)
-&gt; Semigroup (Lunga a)
forall b. Integral b =&gt; b -&gt; Lunga a -&gt; Lunga a
forall a. NonEmpty (Lunga a) -&gt; Lunga a
forall a. Lunga a -&gt; Lunga a -&gt; Lunga a
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall a b. Integral b =&gt; b -&gt; Lunga a -&gt; Lunga a
stimes :: b -&gt; Lunga a -&gt; Lunga a
$cstimes :: forall a b. Integral b =&gt; b -&gt; Lunga a -&gt; Lunga a
sconcat :: NonEmpty (Lunga a) -&gt; Lunga a
$csconcat :: forall a. NonEmpty (Lunga a) -&gt; Lunga a
&lt;&gt; :: Lunga a -&gt; Lunga a -&gt; Lunga a
$c&lt;&gt; :: forall a. Lunga a -&gt; Lunga a -&gt; Lunga a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593420"><span id="local-6989586621680593422"><span id="local-6989586621680593424"><span class="annot"><span class="annottext">Semigroup (Lunga a)
Lunga a
Semigroup (Lunga a) =&gt;
Lunga a
-&gt; (Lunga a -&gt; Lunga a -&gt; Lunga a)
-&gt; ([Lunga a] -&gt; Lunga a)
-&gt; Monoid (Lunga a)
[Lunga a] -&gt; Lunga a
Lunga a -&gt; Lunga a -&gt; Lunga a
forall a. Semigroup (Lunga a)
forall a. Lunga a
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall a. [Lunga a] -&gt; Lunga a
forall a. Lunga a -&gt; Lunga a -&gt; Lunga a
mconcat :: [Lunga a] -&gt; Lunga a
$cmconcat :: forall a. [Lunga a] -&gt; Lunga a
mappend :: Lunga a -&gt; Lunga a -&gt; Lunga a
$cmappend :: forall a. Lunga a -&gt; Lunga a -&gt; Lunga a
mempty :: Lunga a
$cmempty :: forall a. Lunga a
$cp1Monoid :: forall a. Semigroup (Lunga a)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span id="local-6989586621680593418"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Duration.html#HasDuration"><span class="hs-identifier hs-type">HasDuration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593418"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Music.Time.Internal.Transform.html#Transformable"><span class="hs-identifier hs-type">Transformable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593418"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Time.Position.html#HasPosition"><span class="hs-identifier hs-type">HasPosition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Lunga"><span class="hs-identifier hs-type">Lunga</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593418"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-294"></span><span>  </span><span id="local-6989586621680593415"><span class="annot"><span class="annottext">_era :: Lunga a -&gt; Maybe Span
</span><a href="Music.Time.Position.html#_era"><span class="hs-identifier hs-var hs-var hs-var hs-var">_era</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Lunga"><span class="hs-identifier hs-type">Lunga</span></a></span><span> </span><span id="local-6989586621680593413"><span class="annot"><span class="annottext">xs :: [Aligned a]
</span><a href="#local-6989586621680593413"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Aligned a -&gt; TimeInterval) -&gt; [Aligned a] -&gt; TimeInterval
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; TimeInterval
</span><a href="Music.Time.Types.html#NonEmptyInterval"><span class="hs-identifier hs-var">NonEmptyInterval</span></a></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; TimeInterval)
-&gt; (Aligned a -&gt; Span) -&gt; Aligned a -&gt; TimeInterval
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned a -&gt; Span
forall a. HasPosition1 a =&gt; a -&gt; Span
</span><a href="Music.Time.Position.html#_era1"><span class="hs-identifier hs-var">_era1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Aligned a] -&gt; TimeInterval) -&gt; [Aligned a] -&gt; TimeInterval
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Aligned a]
</span><a href="#local-6989586621680593413"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="Music.Time.Types.html#EmptyInterval"><span class="hs-identifier hs-type">EmptyInterval</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Span
forall a. Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><a href="Music.Time.Types.html#NonEmptyInterval"><span class="hs-identifier hs-type">NonEmptyInterval</span></a></span><span> </span><span id="local-6989586621680593409"><span class="annot"><span class="annottext">x :: Span
</span><a href="#local-6989586621680593409"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Maybe Span
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593409"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span id="local-6989586621680593870"><span class="annot"><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-type">renderLunga</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593870"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593870"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-299"></span><span id="renderLunga"><span class="annot"><span class="annottext">renderLunga :: Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var hs-var">renderLunga</span></a></span></span><span> </span><span id="local-6989586621680593408"><span class="annot"><span class="annottext">s :: Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680593407"><span class="annot"><span class="annottext">l :: Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Span -&gt; Either Duration (Duration, Integer, Duration)
</span><a href="Music.Time.Pattern.html#getCycles"><span class="hs-identifier hs-var">getCycles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Span
forall a. HasPosition1 a =&gt; a -&gt; Span
</span><a href="Music.Time.Position.html#_era1"><span class="hs-identifier hs-var">_era1</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680593406"><span class="annot"><span class="annottext">phase :: Duration
</span><a href="#local-6989586621680593406"><span class="hs-identifier hs-var">phase</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>    </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Score a
forall a. Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Aligned.html#renderAlignedVoice"><span class="hs-identifier hs-var">renderAlignedVoice</span></a></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice a) -&gt; Score a) -&gt; Aligned (Voice a) -&gt; Score a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Voice a -&gt; Aligned (Voice a)
forall v. Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593404"><span class="hs-identifier hs-var">alignOnsetTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#onset"><span class="hs-identifier hs-var">onset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; Voice a
forall a. Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#takeM"><span class="hs-identifier hs-var">takeM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Voice a) -&gt; Voice a -&gt; Voice a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; Voice a
forall a. Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#dropM"><span class="hs-identifier hs-var">dropM</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593406"><span class="hs-identifier hs-var">phase</span></a></span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Voice a) -&gt; Voice a -&gt; Voice a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Voice a
forall a. Aligned a -&gt; a
</span><a href="Music.Time.Aligned.html#unAlign"><span class="hs-identifier hs-var">unAlign</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>  </span><span class="annot"><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593401"><span class="annot"><span class="annottext">introDur :: Duration
</span><a href="#local-6989586621680593401"><span class="hs-identifier hs-var">introDur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593400"><span class="annot"><span class="annottext">numCycles :: Integer
</span><a href="#local-6989586621680593400"><span class="hs-identifier hs-var">numCycles</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593399"><span class="annot"><span class="annottext">outroDur :: Duration
</span><a href="#local-6989586621680593399"><span class="hs-identifier hs-var">outroDur</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-304"></span><span>      </span><span id="local-6989586621680593398"><span class="annot"><span class="annottext">intro :: Aligned (Voice a)
</span><a href="#local-6989586621680593398"><span class="hs-identifier hs-var hs-var">intro</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Voice a -&gt; Aligned (Voice a)
forall v. Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593404"><span class="hs-identifier hs-var">alignOnsetTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#onset"><span class="hs-identifier hs-var">onset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; Voice a
forall a. Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#dropM"><span class="hs-identifier hs-var">dropM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Duration
forall a. HasDuration a =&gt; a -&gt; Duration
</span><a href="Music.Time.Duration.html#_duration"><span class="hs-identifier hs-var">_duration</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Duration -&gt; Duration -&gt; Duration
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593401"><span class="hs-identifier hs-var">introDur</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Voice a) -&gt; Voice a -&gt; Voice a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Voice a
forall a. Aligned a -&gt; a
</span><a href="Music.Time.Aligned.html#unAlign"><span class="hs-identifier hs-var">unAlign</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>      </span><span id="local-6989586621680593397"><span class="annot"><span class="annottext">outro :: Aligned (Voice a)
</span><a href="#local-6989586621680593397"><span class="hs-identifier hs-var hs-var">outro</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Voice a -&gt; Aligned (Voice a)
forall v. Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593396"><span class="hs-identifier hs-var">alignOffsetTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#offset"><span class="hs-identifier hs-var">offset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Duration -&gt; Voice a -&gt; Voice a
forall a. Duration -&gt; Voice a -&gt; Voice a
</span><a href="Music.Time.Pattern.html#takeM"><span class="hs-identifier hs-var">takeM</span></a></span><span> </span><span class="annot"><span class="annottext">Duration
</span><a href="#local-6989586621680593399"><span class="hs-identifier hs-var">outroDur</span></a></span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Voice a) -&gt; Voice a -&gt; Voice a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Voice a
forall a. Aligned a -&gt; a
</span><a href="Music.Time.Aligned.html#unAlign"><span class="hs-identifier hs-var">unAlign</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>      </span><span id="local-6989586621680593395"><span class="annot"><span class="annottext">cycles :: [Aligned (Voice a)]
</span><a href="#local-6989586621680593395"><span class="hs-identifier hs-var hs-var">cycles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lunga (Voice a) -&gt; [Aligned (Voice a)]
forall a. Lunga a -&gt; [Aligned a]
</span><a href="Music.Time.Pattern.html#getLunga"><span class="hs-identifier hs-var hs-var">getLunga</span></a></span><span> </span><span class="annot"><span class="annottext">(Lunga (Voice a) -&gt; [Aligned (Voice a)])
-&gt; Lunga (Voice a) -&gt; [Aligned (Voice a)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Lunga (Voice a) -&gt; Lunga (Voice a)
forall a.
(Monoid a, HasPosition a, Transformable a) =&gt;
Int -&gt; a -&gt; a
</span><a href="Music.Time.Juxtapose.html#times"><span class="hs-identifier hs-var">times</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680593400"><span class="hs-identifier hs-var">numCycles</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Lunga (Voice a) -&gt; Lunga (Voice a))
-&gt; Lunga (Voice a) -&gt; Lunga (Voice a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-307"></span><span>              </span><span class="annot"><span class="annottext">[Aligned (Voice a)] -&gt; Lunga (Voice a)
forall a. [Aligned a] -&gt; Lunga a
</span><a href="Music.Time.Pattern.html#Lunga"><span class="hs-identifier hs-var">Lunga</span></a></span><span> </span><span class="annot"><span class="annottext">([Aligned (Voice a)] -&gt; Lunga (Voice a))
-&gt; [Aligned (Voice a)] -&gt; Lunga (Voice a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; [Aligned (Voice a)]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice a) -&gt; [Aligned (Voice a)])
-&gt; Aligned (Voice a) -&gt; [Aligned (Voice a)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Voice a -&gt; Aligned (Voice a)
forall v. Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593404"><span class="hs-identifier hs-var">alignOnsetTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting Time Span Time -&gt; Span -&gt; Time
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Time Span Time
forall a. (HasPosition1 a, Transformable a) =&gt; Lens' a Time
</span><a href="Music.Time.Position.html#onset"><span class="hs-identifier hs-var">onset</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593408"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Time -&gt; Diff Time -&gt; Time
forall p. AffineSpace p =&gt; p -&gt; Diff p -&gt; p
</span><span class="hs-operator hs-var">.+^</span></span><span> </span><span class="annot"><span class="annottext">Diff Time
Duration
</span><a href="#local-6989586621680593401"><span class="hs-identifier hs-var">introDur</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Voice a
forall a. Aligned a -&gt; a
</span><a href="Music.Time.Aligned.html#unAlign"><span class="hs-identifier hs-var">unAlign</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593407"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Score a] -&gt; Score a
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">([Score a] -&gt; Score a) -&gt; [Score a] -&gt; Score a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice a) -&gt; Score a) -&gt; [Aligned (Voice a)] -&gt; [Score a]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Aligned (Voice a) -&gt; Score a
forall a. Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Aligned.html#renderAlignedVoice"><span class="hs-identifier hs-var">renderAlignedVoice</span></a></span><span> </span><span class="annot"><span class="annottext">([Aligned (Voice a)] -&gt; [Score a])
-&gt; [Aligned (Voice a)] -&gt; [Score a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593398"><span class="hs-identifier hs-var">intro</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Aligned (Voice a)] -&gt; [Aligned (Voice a)] -&gt; [Aligned (Voice a)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Aligned (Voice a)]
</span><a href="#local-6989586621680593395"><span class="hs-identifier hs-var">cycles</span></a></span><span> </span><span class="annot"><span class="annottext">[Aligned (Voice a)] -&gt; [Aligned (Voice a)] -&gt; [Aligned (Voice a)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Aligned (Voice a)
</span><a href="#local-6989586621680593397"><span class="hs-identifier hs-var">outro</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621680593404"><span class="annot"><span class="annottext">alignOnsetTo :: Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593404"><span class="hs-identifier hs-var hs-var">alignOnsetTo</span></a></span></span><span> </span><span id="local-6989586621680593392"><span class="annot"><span class="annottext">t :: Time
</span><a href="#local-6989586621680593392"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; v -&gt; Aligned v
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621680593392"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-311"></span><span>    </span><span id="local-6989586621680593396"><span class="annot"><span class="annottext">alignOffsetTo :: Time -&gt; v -&gt; Aligned v
</span><a href="#local-6989586621680593396"><span class="hs-identifier hs-var hs-var">alignOffsetTo</span></a></span></span><span> </span><span id="local-6989586621680593391"><span class="annot"><span class="annottext">t :: Time
</span><a href="#local-6989586621680593391"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; v -&gt; Aligned v
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621680593391"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-comment">-- List of repeated voices</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- TODO is this isomorphic to Tidal's pattern (i.e. Span -&gt; Score a)</span><span>
</span><span id="line-315"></span><span class="hs-keyword">newtype</span><span> </span><span id="Pattern"><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-var">Pattern</span></a></span></span><span> </span><span id="local-6989586621680593693"><span class="annot"><a href="#local-6989586621680593693"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Pattern"><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-var">Pattern</span></a></span></span><span> </span><span class="hs-special">{</span><span id="getPattern"><span class="annot"><span class="annottext">Pattern a -&gt; [Aligned (Voice a)]
</span><a href="Music.Time.Pattern.html#getPattern"><span class="hs-identifier hs-var hs-var">getPattern</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Music.Time.Aligned.html#Aligned"><span class="hs-identifier hs-type">Aligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593693"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680593383"><span id="local-6989586621680593385"><span id="local-6989586621680593387"><span class="annot"><span class="annottext">b -&gt; Pattern a -&gt; Pattern a
NonEmpty (Pattern a) -&gt; Pattern a
Pattern a -&gt; Pattern a -&gt; Pattern a
(Pattern a -&gt; Pattern a -&gt; Pattern a)
-&gt; (NonEmpty (Pattern a) -&gt; Pattern a)
-&gt; (forall b. Integral b =&gt; b -&gt; Pattern a -&gt; Pattern a)
-&gt; Semigroup (Pattern a)
forall b. Integral b =&gt; b -&gt; Pattern a -&gt; Pattern a
forall a. NonEmpty (Pattern a) -&gt; Pattern a
forall a. Pattern a -&gt; Pattern a -&gt; Pattern a
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall a b. Integral b =&gt; b -&gt; Pattern a -&gt; Pattern a
stimes :: b -&gt; Pattern a -&gt; Pattern a
$cstimes :: forall a b. Integral b =&gt; b -&gt; Pattern a -&gt; Pattern a
sconcat :: NonEmpty (Pattern a) -&gt; Pattern a
$csconcat :: forall a. NonEmpty (Pattern a) -&gt; Pattern a
&lt;&gt; :: Pattern a -&gt; Pattern a -&gt; Pattern a
$c&lt;&gt; :: forall a. Pattern a -&gt; Pattern a -&gt; Pattern a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593376"><span id="local-6989586621680593378"><span id="local-6989586621680593380"><span class="annot"><span class="annottext">Semigroup (Pattern a)
Pattern a
Semigroup (Pattern a) =&gt;
Pattern a
-&gt; (Pattern a -&gt; Pattern a -&gt; Pattern a)
-&gt; ([Pattern a] -&gt; Pattern a)
-&gt; Monoid (Pattern a)
[Pattern a] -&gt; Pattern a
Pattern a -&gt; Pattern a -&gt; Pattern a
forall a. Semigroup (Pattern a)
forall a. Pattern a
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall a. [Pattern a] -&gt; Pattern a
forall a. Pattern a -&gt; Pattern a -&gt; Pattern a
mconcat :: [Pattern a] -&gt; Pattern a
$cmconcat :: forall a. [Pattern a] -&gt; Pattern a
mappend :: Pattern a -&gt; Pattern a -&gt; Pattern a
$cmappend :: forall a. Pattern a -&gt; Pattern a -&gt; Pattern a
mempty :: Pattern a
$cmempty :: forall a. Pattern a
$cp1Monoid :: forall a. Semigroup (Pattern a)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593374"><span class="annot"><span class="annottext">Span -&gt; Pattern a -&gt; Pattern a
(Span -&gt; Pattern a -&gt; Pattern a) -&gt; Transformable (Pattern a)
forall a. Span -&gt; Pattern a -&gt; Pattern a
forall a. (Span -&gt; a -&gt; a) -&gt; Transformable a
transform :: Span -&gt; Pattern a -&gt; Pattern a
$ctransform :: forall a. Span -&gt; Pattern a -&gt; Pattern a
</span><a href="#local-6989586621680593374"><span class="hs-identifier hs-var hs-var hs-var hs-var">Transformable</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593370"><span id="local-6989586621680593372"><span class="annot"><span class="annottext">a -&gt; Pattern b -&gt; Pattern a
(a -&gt; b) -&gt; Pattern a -&gt; Pattern b
(forall a b. (a -&gt; b) -&gt; Pattern a -&gt; Pattern b)
-&gt; (forall a b. a -&gt; Pattern b -&gt; Pattern a) -&gt; Functor Pattern
forall a b. a -&gt; Pattern b -&gt; Pattern a
forall a b. (a -&gt; b) -&gt; Pattern a -&gt; Pattern b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Pattern b -&gt; Pattern a
$c&lt;$ :: forall a b. a -&gt; Pattern b -&gt; Pattern a
fmap :: (a -&gt; b) -&gt; Pattern a -&gt; Pattern b
$cfmap :: forall a b. (a -&gt; b) -&gt; Pattern a -&gt; Pattern b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593336"><span id="local-6989586621680593338"><span id="local-6989586621680593340"><span id="local-6989586621680593342"><span id="local-6989586621680593344"><span id="local-6989586621680593346"><span id="local-6989586621680593348"><span id="local-6989586621680593350"><span id="local-6989586621680593352"><span id="local-6989586621680593354"><span id="local-6989586621680593356"><span id="local-6989586621680593358"><span id="local-6989586621680593360"><span id="local-6989586621680593362"><span id="local-6989586621680593364"><span id="local-6989586621680593366"><span id="local-6989586621680593368"><span class="annot"><span class="annottext">Pattern a -&gt; Bool
(a -&gt; m) -&gt; Pattern a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
(forall m. Monoid m =&gt; Pattern m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a)
-&gt; (forall a. Pattern a -&gt; [a])
-&gt; (forall a. Pattern a -&gt; Bool)
-&gt; (forall a. Pattern a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Pattern a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; Pattern a -&gt; a)
-&gt; (forall a. Ord a =&gt; Pattern a -&gt; a)
-&gt; (forall a. Num a =&gt; Pattern a -&gt; a)
-&gt; (forall a. Num a =&gt; Pattern a -&gt; a)
-&gt; Foldable Pattern
forall a. Eq a =&gt; a -&gt; Pattern a -&gt; Bool
forall a. Num a =&gt; Pattern a -&gt; a
forall a. Ord a =&gt; Pattern a -&gt; a
forall m. Monoid m =&gt; Pattern m -&gt; m
forall a. Pattern a -&gt; Bool
forall a. Pattern a -&gt; Int
forall a. Pattern a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: Pattern a -&gt; a
$cproduct :: forall a. Num a =&gt; Pattern a -&gt; a
sum :: Pattern a -&gt; a
$csum :: forall a. Num a =&gt; Pattern a -&gt; a
minimum :: Pattern a -&gt; a
$cminimum :: forall a. Ord a =&gt; Pattern a -&gt; a
maximum :: Pattern a -&gt; a
$cmaximum :: forall a. Ord a =&gt; Pattern a -&gt; a
elem :: a -&gt; Pattern a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; Pattern a -&gt; Bool
length :: Pattern a -&gt; Int
$clength :: forall a. Pattern a -&gt; Int
null :: Pattern a -&gt; Bool
$cnull :: forall a. Pattern a -&gt; Bool
toList :: Pattern a -&gt; [a]
$ctoList :: forall a. Pattern a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern a -&gt; b
foldMap' :: (a -&gt; m) -&gt; Pattern a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern a -&gt; m
foldMap :: (a -&gt; m) -&gt; Pattern a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern a -&gt; m
fold :: Pattern m -&gt; m
$cfold :: forall m. Monoid m =&gt; Pattern m -&gt; m
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680593326"><span id="local-6989586621680593328"><span id="local-6989586621680593330"><span id="local-6989586621680593332"><span class="annot"><span class="annottext">Functor Pattern
Foldable Pattern
(Functor Pattern, Foldable Pattern) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Pattern (f a) -&gt; f (Pattern a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Pattern a -&gt; m (Pattern b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    Pattern (m a) -&gt; m (Pattern a))
-&gt; Traversable Pattern
(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
forall (t :: * -&gt; *).
(Functor t, Foldable t) =&gt;
(forall (f :: * -&gt; *) a b.
 Applicative f =&gt;
 (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Pattern (m a) -&gt; m (Pattern a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern (f a) -&gt; f (Pattern a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern a -&gt; m (Pattern b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
sequence :: Pattern (m a) -&gt; m (Pattern a)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Pattern (m a) -&gt; m (Pattern a)
mapM :: (a -&gt; m b) -&gt; Pattern a -&gt; m (Pattern b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern a -&gt; m (Pattern b)
sequenceA :: Pattern (f a) -&gt; f (Pattern a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern (f a) -&gt; f (Pattern a)
traverse :: (a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
$cp2Traversable :: Foldable Pattern
$cp1Traversable :: Functor Pattern
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span id="local-6989586621680593325"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Pitch.Common.Internal.html#IsPitch"><span class="hs-identifier hs-type">IsPitch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593325"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Pitch.Common.Internal.html#IsPitch"><span class="hs-identifier hs-type">IsPitch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593325"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>  </span><span id="local-6989586621680593322"><span class="annot"><span class="annottext">fromPitch :: Pitch -&gt; Pattern a
</span><a href="Music.Pitch.Common.Internal.html#fromPitch"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPitch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Pattern a
forall a. a -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#pureP"><span class="hs-identifier hs-var">pureP</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Pattern a) -&gt; (Pitch -&gt; a) -&gt; Pitch -&gt; Pattern a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Pitch -&gt; a
forall a. IsPitch a =&gt; Pitch -&gt; a
</span><a href="Music.Pitch.Common.Internal.html#fromPitch"><span class="hs-identifier hs-var">fromPitch</span></a></span></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Articulation"><span class="annot"><a href="Music.Score.Articulation.html#Articulation"><span class="hs-identifier hs-var">Articulation</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593319"><span class="annot"><a href="#local-6989586621680593319"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Score.Articulation.html#Articulation"><span class="hs-identifier hs-type">Articulation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593319"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="SetArticulation"><span class="annot"><a href="Music.Score.Articulation.html#SetArticulation"><span class="hs-identifier hs-var">SetArticulation</span></a></span></span><span> </span><span id="local-6989586621680593317"><span class="annot"><a href="#local-6989586621680593317"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593316"><span class="annot"><a href="#local-6989586621680593316"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Score.Articulation.html#SetArticulation"><span class="hs-identifier hs-type">SetArticulation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593317"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593316"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span id="local-6989586621680593314"><span id="local-6989586621680593315"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Music.Score.Articulation.html#HasArticulations"><span class="hs-identifier hs-type">HasArticulations</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593315"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593314"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Score.Articulation.html#HasArticulations"><span class="hs-identifier hs-type">HasArticulations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593315"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593314"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-327"></span><span>  </span><span id="local-6989586621680593310"><span class="annot"><span class="annottext">articulations :: (Articulation (Pattern a) -&gt; f (Articulation (Pattern b)))
-&gt; Pattern a -&gt; f (Pattern b)
</span><a href="Music.Score.Articulation.html#articulations"><span class="hs-identifier hs-var hs-var hs-var hs-var">articulations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b))
-&gt; ((Articulation a -&gt; f (Articulation b)) -&gt; a -&gt; f b)
-&gt; (Articulation a -&gt; f (Articulation b))
-&gt; Pattern a
-&gt; f (Pattern b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Articulation a -&gt; f (Articulation b)) -&gt; a -&gt; f b
forall s t.
HasArticulations s t =&gt;
Traversal s t (Articulation s) (Articulation t)
</span><a href="Music.Score.Articulation.html#articulations"><span class="hs-identifier hs-var">articulations</span></a></span></span></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Pitch"><span class="annot"><a href="Music.Score.Pitch.html#Pitch"><span class="hs-identifier hs-var">Pitch</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593307"><span class="annot"><a href="#local-6989586621680593307"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Score.Pitch.html#Pitch"><span class="hs-identifier hs-type">Pitch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593307"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="SetPitch"><span class="annot"><a href="Music.Score.Pitch.html#SetPitch"><span class="hs-identifier hs-var">SetPitch</span></a></span></span><span> </span><span id="local-6989586621680593306"><span class="annot"><a href="#local-6989586621680593306"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593305"><span class="annot"><a href="#local-6989586621680593305"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Score.Pitch.html#SetPitch"><span class="hs-identifier hs-type">SetPitch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593306"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593305"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span id="local-6989586621680593303"><span id="local-6989586621680593304"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Music.Score.Pitch.html#HasPitches"><span class="hs-identifier hs-type">HasPitches</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593304"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593303"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Score.Pitch.html#HasPitches"><span class="hs-identifier hs-type">HasPitches</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593304"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593303"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-334"></span><span>  </span><span id="local-6989586621680593299"><span class="annot"><span class="annottext">pitches :: (Pitch (Pattern a) -&gt; f (Pitch (Pattern b)))
-&gt; Pattern a -&gt; f (Pattern b)
</span><a href="Music.Score.Pitch.html#pitches"><span class="hs-identifier hs-var hs-var hs-var hs-var">pitches</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b))
-&gt; ((Pitch a -&gt; f (Pitch b)) -&gt; a -&gt; f b)
-&gt; (Pitch a -&gt; f (Pitch b))
-&gt; Pattern a
-&gt; f (Pattern b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Pitch a -&gt; f (Pitch b)) -&gt; a -&gt; f b
forall s t. HasPitches s t =&gt; Traversal s t (Pitch s) (Pitch t)
</span><a href="Music.Score.Pitch.html#pitches"><span class="hs-identifier hs-var">pitches</span></a></span></span></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Part"><span class="annot"><a href="Music.Score.Part.html#Part"><span class="hs-identifier hs-var">Part</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593297"><span class="annot"><a href="#local-6989586621680593297"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Score.Part.html#Part"><span class="hs-identifier hs-type">Part</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593297"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="SetPart"><span class="annot"><a href="Music.Score.Part.html#SetPart"><span class="hs-identifier hs-var">SetPart</span></a></span></span><span> </span><span id="local-6989586621680593295"><span class="annot"><a href="#local-6989586621680593295"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593294"><span class="annot"><a href="#local-6989586621680593294"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Score.Part.html#SetPart"><span class="hs-identifier hs-type">SetPart</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593295"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593294"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span id="local-6989586621680593292"><span id="local-6989586621680593293"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Music.Score.Part.html#HasParts"><span class="hs-identifier hs-type">HasParts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593293"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593292"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Score.Part.html#HasParts"><span class="hs-identifier hs-type">HasParts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593293"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593292"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-341"></span><span>  </span><span id="local-6989586621680593289"><span class="annot"><span class="annottext">parts :: (Part (Pattern a) -&gt; f (Part (Pattern b)))
-&gt; Pattern a -&gt; f (Pattern b)
</span><a href="Music.Score.Part.html#parts"><span class="hs-identifier hs-var hs-var hs-var hs-var">parts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b))
-&gt; ((Part a -&gt; f (Part b)) -&gt; a -&gt; f b)
-&gt; (Part a -&gt; f (Part b))
-&gt; Pattern a
-&gt; f (Pattern b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Part a -&gt; f (Part b)) -&gt; a -&gt; f b
forall s t. HasParts s t =&gt; Traversal s t (Part s) (Part t)
</span><a href="Music.Score.Part.html#parts"><span class="hs-identifier hs-var">parts</span></a></span></span></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="GetDynamic"><span class="annot"><a href="Music.Score.Dynamics.html#GetDynamic"><span class="hs-identifier hs-var">GetDynamic</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593287"><span class="annot"><a href="#local-6989586621680593287"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Score.Dynamics.html#GetDynamic"><span class="hs-identifier hs-type">GetDynamic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593287"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="SetDynamic"><span class="annot"><a href="Music.Score.Dynamics.html#SetDynamic"><span class="hs-identifier hs-var">SetDynamic</span></a></span></span><span> </span><span id="local-6989586621680593285"><span class="annot"><a href="#local-6989586621680593285"><span class="hs-identifier hs-type hs-type">b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593284"><span class="annot"><a href="#local-6989586621680593284"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Score.Dynamics.html#SetDynamic"><span class="hs-identifier hs-type">SetDynamic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593285"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593284"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span id="local-6989586621680593282"><span id="local-6989586621680593283"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Music.Score.Dynamics.html#HasDynamics"><span class="hs-identifier hs-type">HasDynamics</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593282"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Music.Score.Dynamics.html#HasDynamics"><span class="hs-identifier hs-type">HasDynamics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593283"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593282"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621680593278"><span class="annot"><span class="annottext">dynamics :: (GetDynamic (Pattern a) -&gt; f (GetDynamic (Pattern b)))
-&gt; Pattern a -&gt; f (Pattern b)
</span><a href="Music.Score.Dynamics.html#dynamics"><span class="hs-identifier hs-var hs-var hs-var hs-var">dynamics</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; f b) -&gt; Pattern a -&gt; f (Pattern b))
-&gt; ((GetDynamic a -&gt; f (GetDynamic b)) -&gt; a -&gt; f b)
-&gt; (GetDynamic a -&gt; f (GetDynamic b))
-&gt; Pattern a
-&gt; f (Pattern b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(GetDynamic a -&gt; f (GetDynamic b)) -&gt; a -&gt; f b
forall s t.
HasDynamics s t =&gt;
Traversal s t (GetDynamic s) (GetDynamic t)
</span><a href="Music.Score.Dynamics.html#dynamics"><span class="hs-identifier hs-var">dynamics</span></a></span></span></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- What sort of Applicative is Pattern?</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- instance Applicative Pattern where</span><span>
</span><span id="line-352"></span><span class="hs-comment">--   pure x = newPattern' (pure x) (pure x)</span><span>
</span><span id="line-353"></span><span class="hs-comment">--   Pattern fs &lt;*&gt; Pattern xs = Pattern (fs &lt;*&gt; xs)</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span id="local-6989586621680593729"><span class="annot"><a href="Music.Time.Pattern.html#pureP"><span class="hs-identifier hs-type">pureP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680593729"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593729"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-356"></span><span id="pureP"><span class="annot"><span class="annottext">pureP :: a -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#pureP"><span class="hs-identifier hs-var hs-var">pureP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Voice a -&gt; Pattern a
forall a. Voice a -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#newPattern"><span class="hs-identifier hs-var">newPattern</span></a></span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Pattern a) -&gt; (a -&gt; Voice a) -&gt; a -&gt; Pattern a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Voice a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span id="local-6989586621680593695"><span class="annot"><a href="Music.Time.Pattern.html#newPattern"><span class="hs-identifier hs-type">newPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Voice.html#Voice"><span class="hs-identifier hs-type">Voice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593695"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593695"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-359"></span><span id="newPattern"><span class="annot"><span class="annottext">newPattern :: Voice a -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#newPattern"><span class="hs-identifier hs-var hs-var">newPattern</span></a></span></span><span> </span><span id="local-6989586621680593276"><span class="annot"><span class="annottext">v :: Voice a
</span><a href="#local-6989586621680593276"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Aligned (Voice a)] -&gt; Pattern a
forall a. [Aligned (Voice a)] -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-var">Pattern</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Time -&gt; Duration -&gt; Voice a -&gt; Aligned (Voice a)
forall v. Time -&gt; Duration -&gt; v -&gt; Aligned v
</span><a href="Music.Time.Aligned.html#aligned"><span class="hs-identifier hs-var">aligned</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Voice a
</span><a href="#local-6989586621680593276"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span id="local-6989586621680593275"><span class="annot"><a href="Music.Time.Pattern.html#rhythmPattern"><span class="hs-identifier hs-type">rhythmPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Pitch.Common.Internal.html#IsPitch"><span class="hs-identifier hs-type">IsPitch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593275"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Music.Time.Types.html#Duration"><span class="hs-identifier hs-type">Duration</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593275"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-362"></span><span id="rhythmPattern"><span class="annot"><span class="annottext">rhythmPattern :: [Duration] -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#rhythmPattern"><span class="hs-identifier hs-var hs-var">rhythmPattern</span></a></span></span><span> </span><span id="local-6989586621680593274"><span class="annot"><span class="annottext">a :: [Duration]
</span><a href="#local-6989586621680593274"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Voice a -&gt; Pattern a
forall a. Voice a -&gt; Pattern a
</span><a href="Music.Time.Pattern.html#newPattern"><span class="hs-identifier hs-var">newPattern</span></a></span><span> </span><span class="annot"><span class="annottext">(Voice a -&gt; Pattern a) -&gt; Voice a -&gt; Pattern a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(() -&gt; a) -&gt; Voice () -&gt; Voice a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; () -&gt; a
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">a
forall a. IsPitch a =&gt; a
</span><a href="Music.Pitch.Common.Internal.html#c"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Voice () -&gt; Voice a) -&gt; Voice () -&gt; Voice a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Duration]
</span><a href="#local-6989586621680593274"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[Duration] -&gt; Getting (Voice ()) [Duration] (Voice ()) -&gt; Voice ()
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Voice ()) [Duration] (Voice ())
Iso' [Duration] (Voice ())
</span><a href="Music.Time.Voice.html#durationsAsVoice"><span class="hs-identifier hs-var">durationsAsVoice</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- TODO variant that returns [Aligned (Voice a)]</span><span>
</span><span id="line-365"></span><span id="local-6989586621680593685"><span class="annot"><a href="Music.Time.Pattern.html#renderPattern"><span class="hs-identifier hs-type">renderPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593685"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Types.html#Span"><span class="hs-identifier hs-type">Span</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593685"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-366"></span><span id="renderPattern"><span class="annot"><span class="annottext">renderPattern :: Pattern a -&gt; Span -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderPattern"><span class="hs-identifier hs-var hs-var">renderPattern</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span id="local-6989586621680593271"><span class="annot"><span class="annottext">xs :: [Aligned (Voice a)]
</span><a href="#local-6989586621680593271"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680593270"><span class="annot"><span class="annottext">s :: Span
</span><a href="#local-6989586621680593270"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Score a] -&gt; Score a
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">([Score a] -&gt; Score a) -&gt; [Score a] -&gt; Score a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Aligned (Voice a) -&gt; Score a) -&gt; [Aligned (Voice a)] -&gt; [Score a]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Aligned (Voice a) -&gt; Score a
forall a. Span -&gt; Aligned (Voice a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderLunga"><span class="hs-identifier hs-var">renderLunga</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593270"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Aligned (Voice a)]
</span><a href="#local-6989586621680593271"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- Renders each pattern over one cycle (0&lt;-&gt;1) and stretches to the duration of the surrounding note.</span><span>
</span><span id="line-371"></span><span class="hs-comment">--</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- Each note triggers exactly /one/ cycle of the pattern (frequency = 1), starting at the beginning of the pattern (phase =</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- 0).</span><span>
</span><span id="line-374"></span><span id="local-6989586621680593269"><span class="annot"><a href="Music.Time.Pattern.html#renderPatternsRel"><span class="hs-identifier hs-type">renderPatternsRel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593269"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593269"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-375"></span><span id="renderPatternsRel"><span class="annot"><span class="annottext">renderPatternsRel :: Score (Pattern a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderPatternsRel"><span class="hs-identifier hs-var hs-var">renderPatternsRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Score (Score a) -&gt; Score a
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="annot"><span class="annottext">(Score (Score a) -&gt; Score a)
-&gt; (Score (Pattern a) -&gt; Score (Score a))
-&gt; Score (Pattern a)
-&gt; Score a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern a -&gt; Score a) -&gt; Score (Pattern a) -&gt; Score (Score a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pattern a -&gt; Span -&gt; Score a) -&gt; Span -&gt; Pattern a -&gt; Score a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern a -&gt; Span -&gt; Score a
forall a. Pattern a -&gt; Span -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderPattern"><span class="hs-identifier hs-var">renderPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Span
forall v. AdditiveGroup v =&gt; v
</span><span class="hs-identifier hs-var">zeroV</span></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">-- | Renders each pattern in the span of its note.</span><span>
</span><span id="line-378"></span><span class="hs-comment">--</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- This means that notes of different onset and duration may trigger a different number of cycles (frequency), with</span><span>
</span><span id="line-380"></span><span class="hs-comment">-- different starting point in the pattern (phase).</span><span>
</span><span id="line-381"></span><span id="local-6989586621680593267"><span class="annot"><a href="Music.Time.Pattern.html#renderPatternsAbs"><span class="hs-identifier hs-type">renderPatternsAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Music.Time.Pattern.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593267"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Music.Time.Score.html#Score"><span class="hs-identifier hs-type">Score</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680593267"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-382"></span><span id="renderPatternsAbs"><span class="annot"><span class="annottext">renderPatternsAbs :: Score (Pattern a) -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderPatternsAbs"><span class="hs-identifier hs-var hs-var">renderPatternsAbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Score (Score a) -&gt; Score a
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="annot"><span class="annottext">(Score (Score a) -&gt; Score a)
-&gt; (Score (Pattern a) -&gt; Score (Score a))
-&gt; Score (Pattern a)
-&gt; Score a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Span -&gt; Pattern a -&gt; Score a)
-&gt; Score (Pattern a) -&gt; Score (Score a)
forall a b. (Span -&gt; a -&gt; b) -&gt; Score a -&gt; Score b
</span><a href="Music.Time.Score.html#mapWithSpan"><span class="hs-identifier hs-var">mapWithSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680593265"><span class="annot"><span class="annottext">s :: Span
</span><a href="#local-6989586621680593265"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Span -&gt; Score a -&gt; Score a
forall a. Transformable a =&gt; Span -&gt; a -&gt; a
</span><a href="Music.Time.Internal.Transform.html#transform"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Span -&gt; Span
forall v. AdditiveGroup v =&gt; v -&gt; v
</span><span class="hs-identifier hs-var">negateV</span></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593265"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Score a -&gt; Score a)
-&gt; (Pattern a -&gt; Score a) -&gt; Pattern a -&gt; Score a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Pattern a -&gt; Span -&gt; Score a) -&gt; Span -&gt; Pattern a -&gt; Score a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/yi1zp26n2al045qmp9gwpxblhp2c8gs8-ghc-8.8.3-doc/share/doc/ghc/html/libraries/base-4.13.0.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern a -&gt; Span -&gt; Score a
forall a. Pattern a -&gt; Span -&gt; Score a
</span><a href="Music.Time.Pattern.html#renderPattern"><span class="hs-identifier hs-var">renderPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Span
</span><a href="#local-6989586621680593265"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- Note: We can not change the span of a note using mapWithSpan, so we transform the result to position (0&lt;-&gt;1)</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- and trust join to put it back in the same position it was rendered.</span><span>
</span><span id="line-385"></span></pre></body></html>